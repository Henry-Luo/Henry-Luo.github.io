<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  
  <title><![CDATA[何恩之有]]></title>
  <subtitle><![CDATA[Viva La Vida]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://henng.com//"/>
  <updated>2015-09-13T15:10:44.064Z</updated>
  <id>http://henng.com//</id>
  
  <author>
    <name><![CDATA[Henry Luo]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[我]]></title>
    <link href="http://henng.com/2015/09/13/me/"/>
    <id>http://henng.com/2015/09/13/me/</id>
    <published>2015-09-13T15:04:13.000Z</published>
    <updated>2015-09-13T15:10:44.064Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>麻痹呆滞的杰克是我<br>但不仅仅是我<br>叛逆张扬的泰勒也是我<br>但不仅仅是我</p>
<p>手握六便士的是我<br>但不仅仅是我<br>抬头看月亮的也是我<br>但不仅仅是我<br><a id="more"></a></p>
<p>挥霍和珍惜是我<br>但不仅仅是我<br>拥有和失去也是我<br>但不仅仅是我</p>
<p>一切都是我<br>但也都不仅仅是我</p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>麻痹呆滞的杰克是我<br>但不仅仅是我<br>叛逆张扬的泰勒也是我<br>但不仅仅是我</p>
<p>手握六便士的是我<br>但不仅仅是我<br>抬头看月亮的也是我<br>但不仅仅是我<br>]]>
    
    </summary>
    
      <category term="原创" scheme="http://henng.com/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="生活" scheme="http://henng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[将 Hexo 配置到云端]]></title>
    <link href="http://henng.com/2015/06/28/cloud-hexo/"/>
    <id>http://henng.com/2015/06/28/cloud-hexo/</id>
    <published>2015-06-28T06:28:26.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>将 Hexo 环境放在云端，不用担心换了电脑，也不用担心系统平台不一样，只需要网络即可，一劳永逸。</p>
<p>因为换了新系统，又得重新配置 Hexo 博客环境。于是就想到，对于经常重装系统的同学来说，老是要重新配置 Hexo 就很麻烦；另外一点缺陷是在本地的 Hexo 只能在自己电脑上更新文章，如果出去在外地，换了一台电脑就没法更新文章了。如果能把 Hexo 配置到云端就好了，这样有网络就可以搞定，且不受系统平台的限制。</p>
<p>搜索了一圈，发现还是有人这么干的。不过相关的帖子好像不多，干货更少。主要发现两个工具:</p>
<a id="more"></a>
<blockquote>
<ul>
<li><a href="https://coding.net." target="_blank" rel="external">Coding</a> </li>
<li><a href="https://koding.com/" target="_blank" rel="external">Koding</a></li>
</ul>
</blockquote>
<p>这俩货从名字上就挺相似的，因此干的事情也差不多。试用了一圈，发现 <code>Koding</code> 比较慢，Terminal 也有点卡，可能是老外出品的吧，服务器在国外；而 <code>Coding</code> 速度则要快一些，国人作品，因此最终选择了 <code>Coding</code>。</p>
<h2 id="安装_Hexo">安装 Hexo</h2><p>注册账户之后，新建一个项目用于 Blog，然后进入 <code>WebIDE</code>， <code>Coding</code> 已经内置了搭建 Hexo 需要的 Git 和 node.js 环境，因此直接安装 Hexo 即可，点击右上角第一个图标打开 Terminal：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/CC0A8E7501914EE387F19AC625EDA750" alt=""></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm <span class="keyword">install</span> -g hexo</span><br></pre></td></tr></table></figure>
<p>如果安装成功，输入 <code>hexo</code> 会有相应的帮助提示：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B951FC816F82490194AC444A724D772B" alt="hexo"></p>
<h2 id="初始化_Hexo">初始化 Hexo</h2><p>在终端下输入：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">hexo</span> init</span><br></pre></td></tr></table></figure>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/E8DC018A6CFC4DADB64F9DDC1910903E" alt=""></p>
<p>可以看到初始化之后，它提示我们不要忘了输入下面的命令（<strong>重要</strong>）来完成：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure>
<h2 id="配置_SSH">配置 SSH</h2><p>配置 SSH 主要是为了将我们的博客文章 push 到 Github 上面去，你也可以 把整个 Blog 放到 <code>coding.net</code> 而不是 Github 上，不过 Coding 免费版好像不支持自定义域名，因此我只是把 Coding 用来搭建 Hexo 环境，不用来托管整个 Blog。</p>
<p>在终端输入：</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -<span class="keyword">C</span> <span class="string">"your_email@example.com"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><em>注意 <code>-C</code>为大写</em></p>
</blockquote>
<p>输入保存文件的位置（默认直接 Enter）：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/F90404FA360144DB8CA0554EBC05F6FB" alt=""></p>
<p>然后会要求输入密码：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/19FBC5BDD38E4333AC19B15832AD8B43" alt=""></p>
<p>SSH 如果生成成功，则可以看到类似如下的界面：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/4291C445E7E54974B67CC9F90C2135B6" alt=""></p>
<p>上面的图中，可以看到该 SSH 保存的位置，我们需要获得该 SSH 的具体内容，使用 <code>cat</code> 命令：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/F30178151DAD479CA5E083DC77AC2FE8" alt=""></p>
<p>然后把上面的内容复制到你的 Github 账户中的 SSH keys 即可。</p>
<p>接着设置一下相关用户信息，在以后的 deploy 中会用到：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user<span class="class">.name</span> <span class="string">"username"</span><span class="comment">//用户名</span></span><br><span class="line">git config --global user<span class="class">.email</span> <span class="string">"your_email@example.com"</span><span class="comment">//填写自己的邮箱</span></span><br></pre></td></tr></table></figure>
<h2 id="deploy_相关">deploy 相关</h2><p>修改 <code>_config.yml</code> 配置文件中 deploy 发布的相关内容：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repository</span>: <span class="attribute">https</span>:<span class="comment">//github.com/your_account/your_account.github.com.git</span></span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure>
<p>把 <code>your_account</code> 换成你的 Github 的账户名，<strong>注意，Hexo 现在的版本，<code>type</code>一栏要写成 <code>git</code> 而不是 <code>github</code></strong>。</p>
<p>安装 git deployer 插件：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span></span><br></pre></td></tr></table></figure>
<p><code>coding.net</code> 也支持本地预览，菜单栏选择 <code>Tools -&gt; Generate Access Url</code>：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/2D7613A2895E4B1D98065EAD68225BAA" alt=""></p>
<p>端口号填入 <code>4000</code>，点击 <code>Generate</code>，需要注意的是这个地址有效时间为1小时：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/5E102F73DCFB4BB792FA8E24D39A8158" alt=""></p>
<p>然后其他的配置，例如主题、其他插件什么的，和本地 Hexo 差不多，不再赘述，enjoy writing ：）</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>将 Hexo 环境放在云端，不用担心换了电脑，也不用担心系统平台不一样，只需要网络即可，一劳永逸。</p>
<p>因为换了新系统，又得重新配置 Hexo 博客环境。于是就想到，对于经常重装系统的同学来说，老是要重新配置 Hexo 就很麻烦；另外一点缺陷是在本地的 Hexo 只能在自己电脑上更新文章，如果出去在外地，换了一台电脑就没法更新文章了。如果能把 Hexo 配置到云端就好了，这样有网络就可以搞定，且不受系统平台的限制。</p>
<p>搜索了一圈，发现还是有人这么干的。不过相关的帖子好像不多，干货更少。主要发现两个工具:</p>]]>
    
    </summary>
    
      <category term="Coding" scheme="http://henng.com/tags/Coding/"/>
    
      <category term="Git" scheme="http://henng.com/tags/Git/"/>
    
      <category term="Github" scheme="http://henng.com/tags/Github/"/>
    
      <category term="Hexo" scheme="http://henng.com/tags/Hexo/"/>
    
      <category term="云" scheme="http://henng.com/tags/%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[在 Android Studio 中使用代理]]></title>
    <link href="http://henng.com/2015/06/27/hxgy/"/>
    <id>http://henng.com/2015/06/27/hxgy/</id>
    <published>2015-06-27T13:34:32.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>最近换了新系统，在重装 Android Studio 的时候，发现一个公益代理。在很多地方都需要用到代理，如果你有自己的代理当然很方便。这里主要是 “安利” 一个公益代理（代理也有公益，真是感激涕零。。）它来自 <a href="http://help.honx.in/posts/view/32854/" target="_blank" rel="external">红杏公益代理</a>。专门是给开发人员使用的，程序猿再次泪奔🙏。</p>
<p>红杏官方如是说：<br><a id="more"></a></p>
<blockquote>
<p>因为红杏暂时只能在 chrome 中使用，而且其他客户端的版本也正在开发中。所以目前对于开发人员来说，要装一些 IDE 的插件或者要用命令行装些库的时候，还是不太方便。</p>
<p>我们自己也被这个问题所困扰，所以我们自己部署了一个服务器作为自己的开发专用。用了一段时间之后，发现还是比较方便的，所以决定干脆把这个服务器免费开放出来，供所有的开发人员免费使用（无论你是不是红杏的付费用户）。</p>
</blockquote>
<h2 id="具体使用方法：">具体使用方法：</h2><p>打开 <code>设置</code>，然后搜索 <code>HTTP</code>，就会看到 <code>HTTP Proxy</code>，选择 <code>HTTP</code> 代理模式，<code>Host name</code>: hx.gy（注意主机名不能写成 <code>http://hx.gy</code>），<code>Port number</code>: 1080，最后点击确认。</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/8C2DD33E58B0413DA3CB18193EB4AB32" alt="settings"></p>
<p>这样就能顺畅进行相关开发工作了，如果没有生效，试试万能的 <code>重启</code>：）</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>最近换了新系统，在重装 Android Studio 的时候，发现一个公益代理。在很多地方都需要用到代理，如果你有自己的代理当然很方便。这里主要是 “安利” 一个公益代理（代理也有公益，真是感激涕零。。）它来自 <a href="http://help.honx.in/posts/view/32854/">红杏公益代理</a>。专门是给开发人员使用的，程序猿再次泪奔🙏。</p>
<p>红杏官方如是说：<br>]]>
    
    </summary>
    
      <category term="Android" scheme="http://henng.com/tags/Android/"/>
    
      <category term="Android Studio" scheme="http://henng.com/tags/Android-Studio/"/>
    
      <category term="代理" scheme="http://henng.com/tags/%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[SSH 集合框架应用实例]]></title>
    <link href="http://henng.com/2015/06/04/ssh/"/>
    <id>http://henng.com/2015/06/04/ssh/</id>
    <published>2015-06-04T03:08:54.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>本课程是基于 <a href="https://www.shiyanlou.com" target="_blank" rel="external">实验楼</a> 线上环境制作的，因此文档叙述和截图均与其有关。使用其他实验环境也没有太大影响，实验步骤是类似的。</p>
</blockquote>
<h2 id="一、实验说明及介绍">一、实验说明及介绍</h2><h3 id="1-_环境介绍">1. 环境介绍</h3><p>本实验环境采用带桌面的 Ubuntu Linux 环境，实验中可能会用到桌面上的程序：<a id="more"></a></p>
<ul>
<li>XfceTerminal：Linux 命令行终端，打开后会进入 Bash 环境，可以使用 Linux 命令</li>
<li>Firefox：浏览器，Web 应用会用到它</li>
<li>GVim：非常好用的编辑器，最简单的用法可以参考课程 <a href="http://www.shiyanlou.com/courses/2" target="_blank" rel="external">Vim编辑器</a></li>
<li>Eclipse：Eclipse 是著名的跨平台的自由集成开发环境（IDE）。主要用来 Java 语言开发，但是目前亦有人通过插件使其作为 C++ 和 Python 等语言的开发工具</li>
</ul>
<h3 id="2-_实验简介">2. 实验简介</h3><p>很多同学可能先后学习了 Spring、Struts 以及 Hibernate 课程（学习本项目课之前，您也应该先学习这三门课程）：</p>
<ul>
<li><a href="https://www.shiyanlou.com/courses/33" target="_blank" rel="external">Spring 框架入门教程</a></li>
<li><a href="https://www.shiyanlou.com/courses/32" target="_blank" rel="external">Struts 框架教程</a></li>
<li><a href="https://www.shiyanlou.com/courses/34" target="_blank" rel="external">Hibernate 框架教程</a></li>
</ul>
<p>今天我们就带给大家 3 种框架结合应用的实例，也就是常说的 SSH（Spring + Struts + Hibernate）集成框架，它是应用十分广泛的一种 Java Web 应用程序开发框架。通过这个例子，你会感受到 SSH 框架的强大之处，也会对之前学习的各种框架的应用和理解更加清晰、透彻。</p>
<ul>
<li>本次项目课的场景，假设为一个简单的用户管理网站，在数据库中存在的每一个用户都可以登录网站，然后可以在网站上面进行用户管理（增删改查）。<em>实际的使用场景可能不同，这里的场景假设只是为了便于大家学会理解和应用其中的相关操作</em>。</li>
</ul>
<h2 id="二、SSH_框架分析">二、SSH 框架分析</h2><p>SSH 框架也体现了典型的分层结构，分层有很多好处，例如项目整体的构架更加清晰，代码也更易维护和扩展。</p>
<p>通常来说，SSH 整体上大致可以用下图描述：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/8F73B524614342B5B4852A3A0CC7049F" alt=""></p>
<p>在后面的编码过程中，最好结合这个框架分析图来理解，会更加清晰。</p>
<h2 id="三、项目准备工作">三、项目准备工作</h2><h3 id="1-_New_Project">1. New Project</h3><p>新建 Dynamic Web Project，命名为 SSH（遇到窗口显示不完整的问题，请将窗口放到最大化即可）</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/F2386922DEBE49A7A767AE558E977BB1" alt=""></p>
<h3 id="2-_导入依赖包">2. 导入依赖包</h3><p>先下载依赖包（由于依赖包比较大，这里分成了 3 个小包分别下载，但都要导入到项目中）：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>wget <span class="symbol">http:</span>/<span class="regexp">/labfile.oss.aliyuncs.com/courses</span><span class="regexp">/339/lib</span>-part1.zip</span><br><span class="line"><span class="variable">$ </span>wget <span class="symbol">http:</span>/<span class="regexp">/labfile.oss.aliyuncs.com/courses</span><span class="regexp">/339/lib</span>-part2.zip</span><br><span class="line"><span class="variable">$ </span>wget <span class="symbol">http:</span>/<span class="regexp">/labfile.oss.aliyuncs.com/courses</span><span class="regexp">/339/lib</span>-part3.zip</span><br></pre></td></tr></table></figure>
<p>分别解压 3 个小包，解压之后，<strong>将 3 个部分所有的 jar 包</strong>，全部都复制到工程目录下的 <code>WebContent/WEB-INF/lib</code> 目录下面（截图只包含部分 jar 包）：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/E46FB1C59106450FABF697627A989A67" alt=""></p>
<h3 id="3-_web-xml">3. web.xml</h3><p>修改 web.xml（WebContent/WEB-INF/web.xml）文件如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">web-app</span> <span class="attribute">xmlns:xsi</span>=<span class="value">"http://www.w3.org/2001/XMLSchema-instance"</span> </span><br><span class="line"><span class="attribute">xmlns</span>=<span class="value">"http://java.sun.com/xml/ns/javaee"</span> </span><br><span class="line"><span class="attribute">xsi:schemaLocation</span>=<span class="value">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span> </span><br><span class="line"><span class="attribute">id</span>=<span class="value">"WebApp_ID"</span> <span class="attribute">version</span>=<span class="value">"3.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">display-name</span>&gt;</span>SSH<span class="tag">&lt;/<span class="title">display-name</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="title">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">welcome-file</span>&gt;</span>login.jsp<span class="tag">&lt;/<span class="title">welcome-file</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">welcome-file-list</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- 配置 spring --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">listener</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="title">listener-class</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="title">listener</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">&lt;!-- 配置 spring 资源文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">context-param</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="title">param-name</span>&gt;</span> </span><br><span class="line">  	<span class="tag">&lt;<span class="title">param-value</span>&gt;</span>classpath:beans.xml<span class="tag">&lt;/<span class="title">param-value</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;/<span class="title">context-param</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">&lt;!-- 配置 struts --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="title">filter</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="title">filter-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">filter-class</span>&gt;</span>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter<span class="tag">&lt;/<span class="title">filter-class</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="title">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="title">filter-mapping</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="title">filter-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="title">url-pattern</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="title">filter-mapping</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="title">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="4-_package">4. package</h3><p>在 <code>Java Resources/src</code> 目录下，新建各层 package，方便后面的编码工作：</p>
<p><strong>PS：后续代码的讲解都在代码的注释中。</strong></p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/B282F8B2C0AC4884A150B60765EC72B2" alt=""></p>
<h3 id="5-_MySQL">5. MySQL</h3><h4 id="（1）启动_MySQL_服务">（1）启动 MySQL 服务</h4><p>输入密码：shiyanlou</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/4E84E832973F4FB3B435DE639C93CB51" alt=""></p>
<h4 id="（2）登录_MySQL">（2）登录 MySQL</h4><p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/ED3F736AFA7947779D7F33A1CC4DE99A" alt=""></p>
<h4 id="（3）新建数据库_ssh">（3）新建数据库 ssh</h4><p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/328EDDCA45A24ECD84C89AA950CA5AD3" alt=""></p>
<h2 id="四、Model">四、Model</h2><p>在 model 下新建一个实体类 <code>User.java</code>，以及它的映射文件 <code>User.hbm.xml</code>：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/C77DCD09460C4D01A22458E47108EE4A" alt=""></p>
<h3 id="1-_User-java">1. <code>User.java</code></h3><p>这个对象包含一个 id 主键，一个 name 属性以及 company 属性，很简单。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> shiyanlou.ssh.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String company;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getCompany</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> company;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCompany</span><span class="params">(String company)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.company = company;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-_User-hbm-xml">2. <code>User.hbm.xml</code></h3><p>根据上面的对象，它的配置文件为：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="doctype">&lt;!DOCTYPE hibernate-mapping PUBLIC</span><br><span class="line">        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"</span><br><span class="line">        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">hibernate-mapping</span> <span class="attribute">package</span>=<span class="value">"shiyanlou.ssh.model"</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">&lt;!-- class 和 table 对应 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">class</span> <span class="attribute">name</span>=<span class="value">"User"</span> <span class="attribute">table</span>=<span class="value">"ssh_test"</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">	    <span class="comment">&lt;!-- 一一对应 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">id</span> <span class="attribute">name</span>=<span class="value">"id"</span> <span class="attribute">column</span>=<span class="value">"id"</span>&gt;</span><span class="tag">&lt;/<span class="title">id</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"name"</span> <span class="attribute">column</span>=<span class="value">"name"</span>&gt;</span><span class="tag">&lt;/<span class="title">property</span>&gt;</span>		</span><br><span class="line">		<span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"company"</span> <span class="attribute">column</span>=<span class="value">"company"</span>&gt;</span><span class="tag">&lt;/<span class="title">property</span>&gt;</span>	</span><br><span class="line">	<span class="tag">&lt;/<span class="title">class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">hibernate-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="五、Dao">五、Dao</h2><p>在 dao 下新建一个 <code>UserDao.java</code> 接口，以及它的实现类 <code>UserDaoImpl.java</code>：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/542596EF9E78426DA4D39C6F051551DA" alt=""></p>
<h3 id="1-_UserDao-java">1. <code>UserDao.java</code></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> shiyanlou.ssh.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> shiyanlou.ssh.model.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用以登录时检查数据库中是否存在该用户</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkUser</span><span class="params">(User user)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 添加用户</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addUser</span><span class="params">(User user)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 删除用户</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 修改用户信息</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">updateUser</span><span class="params">(User user)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 查询用户</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryUser</span><span class="params">(User user)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">queryById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 查询所有用户</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryAll</span><span class="params">()</span></span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-_UserDaoImpl-java">2. <strong><code>UserDaoImpl.java</code></strong></h3><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line">package shiyanlou.ssh.dao;</span><br><span class="line"></span><br><span class="line"><span class="built_in">import</span> java.util.ArrayList;</span><br><span class="line"><span class="built_in">import</span> java.util.List;</span><br><span class="line"><span class="built_in">import</span> org.hibernate.Query;</span><br><span class="line"><span class="built_in">import</span> org.hibernate.Session;</span><br><span class="line"><span class="built_in">import</span> org.hibernate.SessionFactory;</span><br><span class="line"></span><br><span class="line"><span class="built_in">import</span> shiyanlou.ssh.model.User;</span><br><span class="line"></span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line"></span><br><span class="line">	private SessionFactory sessionFactory;</span><br><span class="line">	</span><br><span class="line">	public SessionFactory getSessionFactory<span class="params">()</span> &#123;</span><br><span class="line">		return sessionFactory;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setSessionFactory<span class="params">(SessionFactory sessionFactory)</span> &#123;</span><br><span class="line">		this.sessionFactory = sessionFactory;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 登录时，检查用户是否存在于数据库中</span></span><br><span class="line">	@Override</span><br><span class="line">	public boolean checkUser<span class="params">(User user)</span> &#123;</span><br><span class="line">		<span class="comment">// <span class="doctag"><span class="keyword">TODO</span></span> Auto-generated method stub</span></span><br><span class="line">		<span class="comment">// 开启 session</span></span><br><span class="line">		Session session = sessionFactory.openSession<span class="params">()</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 开启事务</span></span><br><span class="line">		session.beginTransaction<span class="params">()</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 查询语句</span></span><br><span class="line">		Query query = session.createQuery<span class="params">(<span class="string">" from User u where u.id=:id and u.name=:name"</span>)</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 设定查询语句中变量的值</span></span><br><span class="line">		query.setParameter<span class="params">(<span class="string">"id"</span>, user.getId<span class="params">()</span>)</span>;</span><br><span class="line">		query.setParameter<span class="params">(<span class="string">"name"</span>, user.getName<span class="params">()</span>)</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 查询结果</span></span><br><span class="line">		User u = <span class="params">(User)</span>query.uniqueResult<span class="params">()</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 事务提交并关闭 session</span></span><br><span class="line">		session.getTransaction<span class="params">()</span>.commit<span class="params">()</span>;</span><br><span class="line">		session.close<span class="params">()</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 查询结果不为 null，说明存在则返回 true</span></span><br><span class="line">		<span class="keyword">if</span> <span class="params">(null != u )</span> &#123;</span><br><span class="line">			return <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		return <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 增加用户</span></span><br><span class="line">	@Override</span><br><span class="line">	public boolean addUser<span class="params">(User user)</span> &#123;</span><br><span class="line">		<span class="comment">// <span class="doctag"><span class="keyword">TODO</span></span> Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		Session session = sessionFactory.openSession<span class="params">()</span>;</span><br><span class="line">		session.beginTransaction<span class="params">()</span>;</span><br><span class="line">		session.save<span class="params">(user)</span>;</span><br><span class="line">		session.getTransaction<span class="params">()</span>.commit<span class="params">()</span>;</span><br><span class="line">		session.close<span class="params">()</span>;</span><br><span class="line">		return <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除用户</span></span><br><span class="line">	@Override</span><br><span class="line">	public boolean deleteUser<span class="params">(int id)</span> &#123;</span><br><span class="line">		<span class="comment">// <span class="doctag"><span class="keyword">TODO</span></span> Auto-generated method stub</span></span><br><span class="line">		Session session = sessionFactory.openSession<span class="params">()</span>;</span><br><span class="line">		session.beginTransaction<span class="params">()</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 通过 id 找到该 user</span></span><br><span class="line">		User u = <span class="params">(User)</span>session.get<span class="params">(User.class, id)</span>;</span><br><span class="line">		session.delete<span class="params">(u)</span>;</span><br><span class="line">		session.getTransaction<span class="params">()</span>.commit<span class="params">()</span>;</span><br><span class="line">		session.close<span class="params">()</span>;</span><br><span class="line">		return <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新用户信息</span></span><br><span class="line">	@Override</span><br><span class="line">	public boolean updateUser<span class="params">(User user)</span> &#123;</span><br><span class="line">		<span class="comment">// <span class="doctag"><span class="keyword">TODO</span></span> Auto-generated method stub</span></span><br><span class="line">		Session session = sessionFactory.openSession<span class="params">()</span>;</span><br><span class="line">		session.beginTransaction<span class="params">()</span>;</span><br><span class="line">		session.update<span class="params">(user)</span>;</span><br><span class="line">		session.getTransaction<span class="params">()</span>.commit<span class="params">()</span>;</span><br><span class="line">		session.close<span class="params">()</span>;</span><br><span class="line">		return <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户查询，用于在网页上根据不同条件的查询</span></span><br><span class="line">    <span class="comment">//（这里可以根据 name 或 company 查询，在后面的 JSP 页面中会体现）</span></span><br><span class="line">	@Override</span><br><span class="line">	public List&lt;User&gt; queryUser<span class="params">(User user)</span> &#123;</span><br><span class="line">		<span class="comment">// <span class="doctag"><span class="keyword">TODO</span></span> Auto-generated method stub</span></span><br><span class="line">		Session session = sessionFactory.openSession<span class="params">()</span>;</span><br><span class="line">		session.beginTransaction<span class="params">()</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 使用 StringBuffer 便于后面根据不同条件，连接查询语句</span></span><br><span class="line">		StringBuffer hq = new StringBuffer<span class="params">(<span class="string">" from User u where 1=1"</span>)</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 参数的值的集合</span></span><br><span class="line">		ArrayList&lt;String&gt; params = new ArrayList&lt;String&gt;<span class="params">()</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// name 不为空，则在查询语句中连接 name 查询条件</span></span><br><span class="line">        <span class="comment">// 并添加 name 的值，便于后面查询</span></span><br><span class="line">		<span class="keyword">if</span> <span class="params">(user.getName<span class="params">()</span> != null &amp;&amp; !<span class="string">""</span>.equals<span class="params">(user.getName<span class="params">()</span>)</span>)</span> &#123;</span><br><span class="line">			hq.append<span class="params">(<span class="string">" and u.name=?"</span>)</span>;</span><br><span class="line">			params.add<span class="params">(user.getName<span class="params">()</span>)</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 同上</span></span><br><span class="line">		<span class="keyword">if</span> <span class="params">(user.getCompany<span class="params">()</span> != null &amp;&amp; !<span class="string">""</span>.equals<span class="params">(user.getCompany<span class="params">()</span>)</span>)</span> &#123;</span><br><span class="line">			hq.append<span class="params">(<span class="string">" and u.company=?"</span>)</span>;</span><br><span class="line">			params.add<span class="params">(user.getCompany<span class="params">()</span>)</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 根据参数的数量，设定查询条件的个数</span></span><br><span class="line">		Query query = session.createQuery<span class="params">(hq.toString<span class="params">()</span>)</span>;</span><br><span class="line">		<span class="keyword">for</span> <span class="params">(int i = <span class="number">0</span>; i &lt; params.size<span class="params">()</span>; i++)</span> &#123;</span><br><span class="line">			query.setString<span class="params">(i, params.get<span class="params">(i)</span>)</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 查询结果</span></span><br><span class="line">		List&lt;User&gt; users = query.list<span class="params">()</span>;</span><br><span class="line">		</span><br><span class="line">		session.getTransaction<span class="params">()</span>.commit<span class="params">()</span>;</span><br><span class="line">		session.close<span class="params">()</span>;</span><br><span class="line">		return users;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 通过 id 查找用户</span></span><br><span class="line">	@Override</span><br><span class="line">	public User queryById<span class="params">(int id)</span> &#123;</span><br><span class="line">		<span class="comment">// <span class="doctag"><span class="keyword">TODO</span></span> Auto-generated method stub</span></span><br><span class="line">		Session session = sessionFactory.openSession<span class="params">()</span>;</span><br><span class="line">		session.beginTransaction<span class="params">()</span>;</span><br><span class="line">		User u = <span class="params">(User)</span>session.get<span class="params">(User.class, id)</span>;</span><br><span class="line">		session.getTransaction<span class="params">()</span>.commit<span class="params">()</span>;</span><br><span class="line">		session.close<span class="params">()</span>;</span><br><span class="line">		return u;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查找所有用户</span></span><br><span class="line">	@Override</span><br><span class="line">	public List&lt;User&gt; queryAll<span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// <span class="doctag"><span class="keyword">TODO</span></span> Auto-generated method stub</span></span><br><span class="line">		Session session = sessionFactory.openSession<span class="params">()</span>;</span><br><span class="line">		session.beginTransaction<span class="params">()</span>;</span><br><span class="line">		Query query = session.createQuery<span class="params">(<span class="string">" from User u"</span>)</span>;</span><br><span class="line">		List&lt;User&gt; users = query.list<span class="params">()</span>;</span><br><span class="line">		session.getTransaction<span class="params">()</span>.commit<span class="params">()</span>;</span><br><span class="line">		session.close<span class="params">()</span>;</span><br><span class="line">		return users;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-_hibernate-cfg-xml">3. <code>hibernate.cfg.xml</code></h3><p>在 <code>Java Resources/src</code> 目录下，新建 Hibernate 配置文件 <code>hibernate.cfg.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span></span><br><span class="line"><span class="doctype">&lt;!DOCTYPE hibernate-configuration PUBLIC</span><br><span class="line">        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span><br><span class="line">        "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">hibernate-configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">session-factory</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 数据库连接设置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"connection.driver_class"</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/ssh<span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"connection.username"</span>&gt;</span>root<span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"connection.password"</span>&gt;</span><span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 数据库方言设置：MySQL --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">        <span class="comment">&lt;!-- 开启 Hibernate 自动 session 管理 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"current_session_context_class"</span>&gt;</span>thread<span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 设置 SQL 语句输出到 Eclipse 控制台 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"show_sql"</span>&gt;</span>true<span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"format_sql"</span>&gt;</span>true<span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 第一次加载 hibernate 时根据 model 类会自动建立起表的结构（前提是先建立好数据库），以后加载 hibernate 时根据 model 类自动更新表结构，即使表结构改变了但表中的行仍然存在不会删除以前的行。--&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"hbm2ddl.auto"</span>&gt;</span>update<span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!-- 映射文件 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">mapping</span> <span class="attribute">resource</span>=<span class="value">"shiyanlou/ssh/model/User.hbm.xml"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="title">session-factory</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">hibernate-configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="六、Service">六、Service</h2><p>在 service 下新建一个 <code>UserService.java</code> 接口，以及它的实现类 <code>UserServiceImpl.java</code>，service 为 dao 的上层，它是直接调用 dao 层的相关操作的，相对来说要简单很多，因此这里也不详细解释了。</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/C668589532B1497F98C5C71AB3DCFA73" alt=""></p>
<h3 id="1-_UserService-java">1. <code>UserService.java</code></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> shiyanlou.ssh.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> shiyanlou.ssh.model.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkUser</span><span class="params">(User user)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addUser</span><span class="params">(User user)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">updateUser</span><span class="params">(User user)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryUser</span><span class="params">(User user)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">queryById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryAll</span><span class="params">()</span></span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-_UserServiceImpl-java">2. <code>UserServiceImpl.java</code></h3><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">package shiyanlou.ssh.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">List</span>;</span><br><span class="line"><span class="keyword">import</span> shiyanlou.ssh.dao.<span class="type">UserDao</span>;</span><br><span class="line"><span class="keyword">import</span> shiyanlou.ssh.model.<span class="type">User</span>;</span><br><span class="line"></span><br><span class="line">public class <span class="type">UserServiceImpl</span> implements <span class="type">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">	private <span class="type">UserDao</span> userDao;</span><br><span class="line">	</span><br><span class="line">	public <span class="type">UserDao</span> getUserDao() &#123;</span><br><span class="line">		<span class="keyword">return</span> userDao;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public <span class="type">void</span> setUserDao(<span class="type">UserDao</span> userDao) &#123;</span><br><span class="line">		this.userDao = userDao;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@<span class="type">Override</span></span><br><span class="line">	public boolean checkUser(<span class="type">User</span> user) &#123;</span><br><span class="line">		// <span class="type">TODO</span> <span class="type">Auto</span>-generated <span class="keyword">method</span> stub</span><br><span class="line">		<span class="keyword">if</span> ( userDao.checkUser(user) ) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@<span class="type">Override</span></span><br><span class="line">	public boolean addUser(<span class="type">User</span> user) &#123;</span><br><span class="line">		// <span class="type">TODO</span> <span class="type">Auto</span>-generated <span class="keyword">method</span> stub</span><br><span class="line">		<span class="keyword">return</span> userDao.addUser(user);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@<span class="type">Override</span></span><br><span class="line">	public boolean deleteUser(<span class="type">int</span> id) &#123;</span><br><span class="line">		// <span class="type">TODO</span> <span class="type">Auto</span>-generated <span class="keyword">method</span> stub</span><br><span class="line">		<span class="keyword">return</span> userDao.deleteUser(id);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@<span class="type">Override</span></span><br><span class="line">	public boolean updateUser(<span class="type">User</span> user) &#123;</span><br><span class="line">		// <span class="type">TODO</span> <span class="type">Auto</span>-generated <span class="keyword">method</span> stub</span><br><span class="line">		<span class="keyword">return</span> userDao.updateUser(user);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@<span class="type">Override</span></span><br><span class="line">	public <span class="type">List</span>&lt;<span class="type">User</span>&gt; queryUser(<span class="type">User</span> user) &#123;</span><br><span class="line">		// <span class="type">TODO</span> <span class="type">Auto</span>-generated <span class="keyword">method</span> stub</span><br><span class="line">		<span class="keyword">return</span> userDao.queryUser(user);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@<span class="type">Override</span></span><br><span class="line">	public <span class="type">User</span> queryById(<span class="type">int</span> id) &#123;</span><br><span class="line">		// <span class="type">TODO</span> <span class="type">Auto</span>-generated <span class="keyword">method</span> stub</span><br><span class="line">		<span class="keyword">return</span> userDao.queryById(id);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@<span class="type">Override</span></span><br><span class="line">	public <span class="type">List</span>&lt;<span class="type">User</span>&gt; queryAll() &#123;</span><br><span class="line">		// <span class="type">TODO</span> <span class="type">Auto</span>-generated <span class="keyword">method</span> stub</span><br><span class="line">		<span class="keyword">return</span> userDao.queryAll();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="七、Action">七、Action</h2><p>在 action 包下，新建类 <code>UserAction.java</code>，action 为 service 的上层，所以它会调用 service：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/4E2B990C7E814C5AA9A7FB8317A2177D" alt=""></p>
<h3 id="1-_UserAction-java">1. <code>UserAction.java</code></h3><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> shiyanlou.ssh.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> shiyanlou.ssh.model.User;</span><br><span class="line"><span class="keyword">import</span> shiyanlou.ssh.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionContext;</span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserAction</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span><br><span class="line">	 * </span><br><span class="line">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1</span>L;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> User user;</span><br><span class="line">	<span class="keyword">private</span> UserService userService;</span><br><span class="line">	<span class="keyword">private</span> Map&lt;String, Object&gt; request;</span><br><span class="line">	<span class="keyword">private</span> Map&lt;String, Object&gt; session;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="function">User <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> user;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">setUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.user = user;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function">UserService <span class="title">getUserService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> userService;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">setUserService</span><span class="params">(UserService userService)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.userService = userService;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 将查询的所有结果放到上下文中</span></span><br><span class="line">	<span class="comment">// key 为 users，后面的 jsp 页面会用到</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function">String <span class="title">list</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		request = (Map)ActionContext.getContext().get(<span class="string">"request"</span>);</span><br><span class="line">		request.put(<span class="string">"users"</span>, userService.queryAll());</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 登录检查</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function">String <span class="title">checkUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">boolean</span> flag = userService.checkUser(user);</span><br><span class="line">		<span class="comment">// 检查有效</span></span><br><span class="line">		<span class="keyword">if</span> (flag) &#123;</span><br><span class="line">		    <span class="comment">// 将当前 user 对象放到 session 中</span></span><br><span class="line">			session = ActionContext.getContext().getSession();</span><br><span class="line">			session.put(<span class="string">"user1"</span>, user);</span><br><span class="line">			<span class="comment">// 返回所有结果显示在页面</span></span><br><span class="line">			<span class="function"><span class="keyword">return</span> <span class="title">list</span><span class="params">()</span></span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 检查无效</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">"error"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 删除用户，之后再返回所有查询结果动态显示在页面上</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function">String <span class="title">deleteUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		userService.deleteUser(user.getId());</span><br><span class="line">		<span class="function"><span class="keyword">return</span> <span class="title">list</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 同上</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function">String <span class="title">addUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		userService.addUser(user);</span><br><span class="line">		<span class="function"><span class="keyword">return</span> <span class="title">list</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 修改用户信息，通过 id 找到要修改的用户</span></span><br><span class="line">	<span class="comment">// 并返回 "update" 字符串，用以跳转到修改页面</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function">String <span class="title">updateUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		user = userService.queryById(user.getId());</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"update"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 在修改页面完成修改，调用 service 的 update</span></span><br><span class="line">	<span class="comment">// 之后再返回所有查询结果动态显示在页面上</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function">String <span class="title">updateUserImpl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		userService.updateUser(user);</span><br><span class="line">		<span class="function"><span class="keyword">return</span> <span class="title">list</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据条件查询用户，查询结果放到上下文中</span></span><br><span class="line">    <span class="comment">// tag 用以标记，后面在 jsp 页面有体现</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function">String <span class="title">queryUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		request = (Map)ActionContext.getContext().get(<span class="string">"request"</span>);</span><br><span class="line">		request.put(<span class="string">"users2"</span>, userService.queryUser(user));</span><br><span class="line">		request.put(<span class="string">"tag"</span>, <span class="number">2</span>);</span><br><span class="line">		<span class="function"><span class="keyword">return</span> <span class="title">list</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-_beans-xml">2. <code>beans.xml</code></h3><p>在 <code>Java Resources/src</code> 目录下新建 Spring 配置文件 <code>beans.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">beans</span> <span class="attribute">xmlns</span>=<span class="value">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       <span class="attribute">xmlns:xsi</span>=<span class="value">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       <span class="attribute">xmlns:context</span>=<span class="value">"http://www.springframework.org/schema/context"</span></span><br><span class="line">       <span class="attribute">xmlns:aop</span>=<span class="value">"http://www.springframework.org/schema/aop"</span></span><br><span class="line">       <span class="attribute">xmlns:tx</span>=<span class="value">"http://www.springframework.org/schema/tx"</span></span><br><span class="line">       <span class="attribute">xsi:schemaLocation</span>=<span class="value">"http://www.springframework.org/schema/beans</span><br><span class="line">       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</span><br><span class="line">       http://www.springframework.org/schema/context</span><br><span class="line">       http://www.springframework.org/schema/context/spring-context-3.0.xsd</span><br><span class="line">       http://www.springframework.org/schema/tx</span><br><span class="line">       http://www.springframework.org/schema/tx/spring-tx-3.0.xsd</span><br><span class="line">       http://www.springframework.org/schema/aop</span><br><span class="line">       http://www.springframework.org/schema/aop/spring-aop-3.2.xsd"</span></span><br><span class="line">       <span class="attribute">default-autowire</span>=<span class="value">"byName"</span></span><br><span class="line">&gt;</span></span><br><span class="line">		</span><br><span class="line">		  <span class="comment">&lt;!-- sessionFactory 的配置 --&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"sessionFactory"</span> <span class="attribute">class</span>=<span class="value">"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"configLocation"</span> <span class="attribute">value</span>=<span class="value">"classpath:hibernate.cfg.xml"</span>&gt;</span><span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;/<span class="title">bean</span>&gt;</span> </span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!-- 事物管理器 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"txManager"</span> <span class="attribute">class</span>=<span class="value">"org.springframework.orm.hibernate3.HibernateTransactionManager"</span>&gt;</span></span><br><span class="line">			  <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"sessionFactory"</span> <span class="attribute">ref</span>=<span class="value">"sessionFactory"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">bean</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 配置哪些类哪些方法使用事务 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">aop:config</span>&gt;</span></span><br><span class="line">		    <span class="comment">&lt;!-- 只对 service 层实施事务 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">aop:pointcut</span> <span class="attribute">expression</span>=<span class="value">"execution(public * shiyanlou.ssh.service..*.*(..))"</span> <span class="attribute">id</span>=<span class="value">"businessService"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">aop:advisor</span> <span class="attribute">advice-ref</span>=<span class="value">"txAdvice"</span> <span class="attribute">pointcut-ref</span>=<span class="value">"businessService"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">aop:config</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!-- 事务的传播特性 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">tx:advice</span> <span class="attribute">id</span>=<span class="value">"txAdvice"</span> <span class="attribute">transaction-manager</span>=<span class="value">"txManager"</span>&gt;</span></span><br><span class="line">		    <span class="tag">&lt;<span class="title">tx:attributes</span>&gt;</span></span><br><span class="line">		      <span class="tag">&lt;<span class="title">tx:method</span> <span class="attribute">name</span>=<span class="value">"check*"</span> <span class="attribute">read-only</span>=<span class="value">"true"</span>/&gt;</span></span><br><span class="line">		      </span><br><span class="line">		    <span class="tag">&lt;/<span class="title">tx:attributes</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">tx:advice</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!-- 各层的映射对应关系 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"userDao"</span> <span class="attribute">class</span>=<span class="value">"shiyanlou.ssh.dao.UserDaoImpl"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"sessionFactory"</span> <span class="attribute">ref</span>=<span class="value">"sessionFactory"</span>&gt;</span><span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"userService"</span> <span class="attribute">class</span>=<span class="value">"shiyanlou.ssh.service.UserServiceImpl"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"userDao"</span> <span class="attribute">ref</span>=<span class="value">"userDao"</span>&gt;</span><span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"userAction"</span> <span class="attribute">class</span>=<span class="value">"shiyanlou.ssh.action.UserAction"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"userService"</span> <span class="attribute">ref</span>=<span class="value">"userService"</span>&gt;</span><span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line">		</span><br><span class="line"><span class="tag">&lt;/<span class="title">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="3-_structs-xml">3. <code>structs.xml</code></h3><p>同样在 <code>Java Resources/src</code> 目录下，新建 Struts 配置文件 <code>struts.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="doctype">&lt;!DOCTYPE struts PUBLIC</span><br><span class="line">	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"</span><br><span class="line">	"http://struts.apache.org/dtds/struts-2.3.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">struts</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 启用开发者模式 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">constant</span> <span class="attribute">name</span>=<span class="value">"struts.devMode"</span> <span class="attribute">value</span>=<span class="value">"true"</span>&gt;</span><span class="tag">&lt;/<span class="title">constant</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 启用动态方法调用 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">constant</span> <span class="attribute">name</span>=<span class="value">"struts.enable.DynamicMethodInvocation"</span> <span class="attribute">value</span>=<span class="value">"true"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 根据不同的返回结果，给出不同的响应界面 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">package</span> <span class="attribute">name</span>=<span class="value">"user"</span> <span class="attribute">extends</span>=<span class="value">"struts-default"</span>  <span class="attribute">namespace</span>=<span class="value">"/"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">action</span> <span class="attribute">name</span>=<span class="value">"user"</span> <span class="attribute">class</span>=<span class="value">"shiyanlou.ssh.action.UserAction"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="title">result</span> <span class="attribute">name</span>=<span class="value">"error"</span>&gt;</span>/error.jsp<span class="tag">&lt;/<span class="title">result</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="title">result</span> <span class="attribute">name</span>=<span class="value">"success"</span>&gt;</span>/success.jsp<span class="tag">&lt;/<span class="title">result</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="title">result</span> <span class="attribute">name</span>=<span class="value">"update"</span>&gt;</span>/updateuser.jsp<span class="tag">&lt;/<span class="title">result</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="title">action</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">package</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">struts</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="八、JSP">八、JSP</h2><p>现在编码工作进入最后的阶段了，我们需要做的，就是根据前面的 Struts 的配置以及各种业务处理逻辑，建立各种 JSP 页面。</p>
<p>实验中，所有的页面，都在 <code>WebContent/</code> 下新建。</p>
<h3 id="1-_login-jsp">1. <code>login.jsp</code></h3><p>登录页面，也是程序启动的默认首页，登录时验证 id 和 name 是否存在于数据库中。</p>
<figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="vbscript">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><span class="xml"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 获取相关路径 --&gt;</span>    </span><br><span class="line"></span><span class="vbscript">&lt;%</span><br><span class="line"><span class="built_in">String</span> path = <span class="built_in">request</span>.getContextPath();</span><br><span class="line"><span class="built_in">String</span> basePath = <span class="built_in">request</span>.getScheme()+<span class="string">"://"</span>+<span class="built_in">request</span>.getServerName()+<span class="string">":"</span>+<span class="built_in">request</span>.getServerPort()+path+<span class="string">"/"</span>;</span><br><span class="line">%&gt;</span><span class="xml"></span><br><span class="line">    </span><br><span class="line"><span class="doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>Login Page<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="title">center</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">h1</span>&gt;</span>Please Login First<span class="tag">&lt;/<span class="title">h1</span>&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">    	<span class="comment">&lt;!-- 登录时 form 表单提交给 checkUser Action 处理 --&gt;</span>  </span><br><span class="line">    	<span class="tag">&lt;<span class="title">form</span> <span class="attribute">action</span>=<span class="value">"</span></span></span><span class="vbscript">&lt;%=basePath%&gt;</span><span class="xml"><span class="tag"><span class="value">user!checkUser.action"</span> <span class="attribute">method</span>=<span class="value">"post"</span>&gt;</span></span><br><span class="line">    	User Id:<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.id"</span> <span class="attribute">style</span>=<span class="value">"width: 100px;"</span>/&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">    	User Name<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.name"</span> <span class="attribute">style</span>=<span class="value">"width: 100px;"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">value</span>=<span class="value">"Login"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">center</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="2-_success-jsp">2. <code>success.jsp</code></h3><p>登录验证成功，进入管理页面。</p>
<figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="vbscript">&lt;%@ page language=<span class="string">"java"</span>  import=<span class="string">"java.util.*"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><span class="xml"></span><br><span class="line">    </span><br><span class="line"></span><span class="vbscript">&lt;%</span><br><span class="line"><span class="built_in">String</span> path = <span class="built_in">request</span>.getContextPath();</span><br><span class="line"><span class="built_in">String</span> basePath = <span class="built_in">request</span>.getScheme()+<span class="string">"://"</span>+<span class="built_in">request</span>.getServerName()+<span class="string">":"</span>+<span class="built_in">request</span>.getServerPort()+path+<span class="string">"/"</span>;</span><br><span class="line">%&gt;</span><span class="xml"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- c 标签，后面会使用到 --&gt;</span></span><br><span class="line"></span><span class="vbscript">&lt;%@taglib uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span> %&gt;</span><span class="xml"></span><br><span class="line">    </span><br><span class="line"><span class="doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>Welcome<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">"text/css"</span>&gt;</span><span class="css"></span><br><span class="line">    <span class="tag">td</span><span class="rules">&#123;</span><br><span class="line">		<span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;</span><br><span class="line">		<span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">	&#125;</span></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- checkUser Action 返回 user1，这里就可以得到用户名--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">align</span>=<span class="value">"right"</span>&gt;</span>Welcome, $&#123;user1.name &#125; | <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"logout.jsp"</span>&gt;</span>Exit<span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">center</span>&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="title">table</span> <span class="attribute">border</span>=<span class="value">"1"</span>&gt;</span></span><br><span class="line">    			<span class="tag">&lt;<span class="title">tr</span>&gt;</span></span><br><span class="line">    				<span class="tag">&lt;<span class="title">td</span>&gt;</span>user id<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>user name<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>company<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span> <span class="attribute">colspan</span>=<span class="value">"2"</span> <span class="attribute">style</span>=<span class="value">"center"</span>&gt;</span>Options<span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">    			<span class="tag">&lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- UserAction 中的 list() 返回 users，遍历它就得到所有的查询结果 --&gt;</span></span><br><span class="line">    			<span class="tag">&lt;<span class="title">c:forEach</span> <span class="attribute">items</span>=<span class="value">"$&#123;users&#125;"</span> <span class="attribute">var</span>=<span class="value">"u"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">&lt;!-- 以表格形式展现所有结果，最后一栏是操作（包含删除和修改） --&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- 删除、修改都提交给各自的 Action 处理，通过 id 来判断是哪个用户 --&gt;</span></span><br><span class="line">    				<span class="tag">&lt;<span class="title">tr</span>&gt;</span></span><br><span class="line">    					<span class="tag">&lt;<span class="title">td</span>&gt;</span>$&#123;u.id&#125;<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>$&#123;u.name&#125;<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>$&#123;u.company&#125;<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"user!deleteUser.action?user.id=$&#123;u.id&#125;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"user!updateUser.action?user.id=$&#123;u.id&#125;"</span>&gt;</span>Modify<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">    				<span class="tag">&lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line">    			<span class="tag">&lt;/<span class="title">c:forEach</span>&gt;</span></span><br><span class="line">    			</span><br><span class="line">    		<span class="tag">&lt;/<span class="title">table</span>&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 添加用户按钮 --&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">value</span>=<span class="value">"Add User"</span> <span class="attribute">onclick</span>=<span class="value">"window.location.href='adduser.jsp'"</span>/&gt;</span> </span><br><span class="line">    	<span class="tag">&lt;/<span class="title">center</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line">    	</span><br><span class="line">        <span class="comment">&lt;!-- 查询用户输入框，包含 name、company 两种查询条件 --&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">center</span>&gt;</span></span><br><span class="line">		   	<span class="tag">&lt;<span class="title">form</span> <span class="attribute">action</span>=<span class="value">"user!queryUser.action"</span> <span class="attribute">method</span>=<span class="value">"post"</span>&gt;</span></span><br><span class="line">		   		user name<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.name"</span>/&gt;</span>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">		   		company<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.company"</span>/&gt;</span>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;	</span><br><span class="line">		   		<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">value</span>=<span class="value">"Search"</span>/&gt;</span></span><br><span class="line">		   <span class="tag">&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;/<span class="title">center</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">br</span>&gt;</span><span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- tag&gt;0 表示查询结果正常--&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">c:if</span> <span class="attribute">test</span>=<span class="value">"$&#123;tag&gt;0&#125;"</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">center</span>&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="title">table</span> <span class="attribute">border</span>=<span class="value">"1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- 查询结果也以表格形式展现 --&gt;</span></span><br><span class="line">    			<span class="tag">&lt;<span class="title">tr</span>&gt;</span></span><br><span class="line">    				<span class="tag">&lt;<span class="title">td</span>&gt;</span>user id<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>user name<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>company<span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">    			<span class="tag">&lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    			<span class="comment">&lt;!-- users2 就是 UserAction 中的 queryUser() 返回的结果，同样是遍历 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">c:forEach</span> <span class="attribute">items</span>=<span class="value">"$&#123;users2&#125;"</span> <span class="attribute">var</span>=<span class="value">"u"</span>&gt;</span></span><br><span class="line">    				<span class="tag">&lt;<span class="title">tr</span>&gt;</span></span><br><span class="line">    					<span class="tag">&lt;<span class="title">td</span>&gt;</span>$&#123;u.id&#125;<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>$&#123;u.name&#125;<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>$&#123;u.company &#125;<span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">    				<span class="tag">&lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line">    			<span class="tag">&lt;/<span class="title">c:forEach</span>&gt;</span></span><br><span class="line">    			</span><br><span class="line">    		<span class="tag">&lt;/<span class="title">table</span>&gt;</span></span><br><span class="line">    		</span><br><span class="line">    	<span class="tag">&lt;/<span class="title">center</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;/<span class="title">c:if</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="3-_error-jsp">3. <code>error.jsp</code></h3><p>登录验证失败，给出一个错误页面提示即可，非常简单。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">%@</span> <span class="attribute">page</span> <span class="attribute">language</span>=<span class="value">"java"</span> <span class="attribute">contentType</span>=<span class="value">"text/html; charset=UTF-8"</span></span><br><span class="line">    <span class="attribute">pageEncoding</span>=<span class="value">"UTF-8"</span><span class="value">%</span>&gt;</span></span><br><span class="line"><span class="doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>Sorry!<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">Login failed!</span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="4-_adduser-jsp">4. <code>adduser.jsp</code></h3><p>增加用户的页面，注意 id 为主键，因此不能为空，也不能和其他的重复。把表单提交给 addUser Action 就可以了。</p>
<figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="vbscript">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><span class="xml"></span><br><span class="line">    </span><br><span class="line"></span><span class="vbscript">&lt;%</span><br><span class="line"><span class="built_in">String</span> path = <span class="built_in">request</span>.getContextPath();</span><br><span class="line"><span class="built_in">String</span> basePath = <span class="built_in">request</span>.getScheme()+<span class="string">"://"</span>+<span class="built_in">request</span>.getServerName()+<span class="string">":"</span>+<span class="built_in">request</span>.getServerPort()+path+<span class="string">"/"</span>;</span><br><span class="line">%&gt;</span><span class="xml"></span><br><span class="line">    </span><br><span class="line"><span class="doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>Add New User<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">center</span>&gt;</span> <span class="tag">&lt;<span class="title">h1</span>&gt;</span>Add User<span class="tag">&lt;/<span class="title">h1</span>&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">    user id cannot be null or same as others</span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="title">form</span> <span class="attribute">action</span>=<span class="value">"user!addUser.action"</span> <span class="attribute">method</span>=<span class="value">"post"</span>&gt;</span></span><br><span class="line">        user id<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.id"</span>/&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">        user name<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.name"</span>/&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">        company<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.company"</span>/&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">value</span>=<span class="value">"Add"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">   <span class="tag">&lt;/<span class="title">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="5-_updateuser-jsp">5. <code>updateuser.jsp</code></h3><p>修改用户信息，同上面类似（不提供 id 修改）。注意这里的 Action 为 <code>updateUserImpl</code>。</p>
<figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="vbscript">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><span class="xml"></span><br><span class="line"> </span><br><span class="line"> </span><span class="vbscript">&lt;%</span><br><span class="line"><span class="built_in">String</span> path = <span class="built_in">request</span>.getContextPath();</span><br><span class="line"><span class="built_in">String</span> basePath = <span class="built_in">request</span>.getScheme()+<span class="string">"://"</span>+<span class="built_in">request</span>.getServerName()+<span class="string">":"</span>+<span class="built_in">request</span>.getServerPort()+path+<span class="string">"/"</span>;</span><br><span class="line">%&gt;</span><span class="xml"></span><br><span class="line">    </span><br><span class="line"><span class="doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>Modify User Info<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">center</span>&gt;</span> <span class="tag">&lt;<span class="title">h1</span>&gt;</span>Modify User Info<span class="tag">&lt;/<span class="title">h1</span>&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">form</span> <span class="attribute">action</span>=<span class="value">"user!updateUserImpl.action"</span> <span class="attribute">method</span>=<span class="value">"post"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"hidden"</span> <span class="attribute">name</span>=<span class="value">"user.id"</span> <span class="attribute">value</span>=<span class="value">"$&#123;user.id&#125;"</span>  <span class="attribute">readonly</span>=<span class="value">"readonly"</span>/&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">        user name<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.name"</span> <span class="attribute">value</span>=<span class="value">"$&#123;user.name&#125;"</span>/&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">        company<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"user.company"</span> <span class="attribute">value</span>=<span class="value">"$&#123;user.company&#125;"</span>/&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">value</span>=<span class="value">"OK"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;/<span class="title">center</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="6-_logout-jsp">6. <code>logout.jsp</code></h3><p>退出网站，把 session 清空，再设置页面跳转到首页登录页面即可。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="at_rule">@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">    </span><br><span class="line">&lt;% </span><br><span class="line">session.<span class="function">invalidate</span>()</span>; </span><br><span class="line"><span class="tag">response</span><span class="class">.sendRedirect</span>("<span class="tag">login</span><span class="class">.jsp</span>");</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h2 id="九、运行测试">九、运行测试</h2><h3 id="1-_登录">1. 登录</h3><p>右击项目，选择 <code>Run As</code> —&gt; <code>Run On Server</code>，稍等片刻，即可看到登录页面：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/A9DFF1A5C8E44A8CA9023AD1DB332959" alt=""></p>
<p>输入下面的命令，可以看到该数据库中，已经有 <code>ssh_test</code> 这张 table 了，但是目前还是张空表：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/80D34FB7355740858E89504E6D5D2EBA" alt=""></p>
<p>因为登录时我们要检查输入的数据是否存在与数据库中，因此我们先插入一条数据，例如:</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/2C01827FA47B439C8921325C3E7519A0" alt=""></p>
<p>再输入刚刚插入的数据，即可登录并进入管理页面（可以看到刚刚插入的数据，显示在页面上了）：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/604CD630DDEC4828BD8622C9AEA0E167" alt=""></p>
<h3 id="2-_用户管理（增删改查）">2. 用户管理（增删改查）</h3><h4 id="（1）新增用户">（1）新增用户</h4><p>点击 <code>Add User</code> 按钮，输入数据来新增用户，例如：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/1593EF2F9B614EA0AFA99D66E35805B6" alt=""></p>
<p>点击 <code>Add</code> 即可添加成功，页面展示：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/0171B1EBFBC9471AA2AFB1A4B2301179" alt=""></p>
<p>对比验证后台数据库中表的数据，也是一致的：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/17862FCE4D1E423C81C6A1021BCA804C" alt=""></p>
<h4 id="（2）删除用户">（2）删除用户</h4><p>我们把上面新增的 id 为 124 的用户删除掉，点击 Options 中的 Delete 即可：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/361C4AB451CE49668684D7F25774149D" alt=""></p>
<p>对比验证后台数据库中表的数据（保持一致），可以看到之前是两条数据，现在也只有一条了：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/6D22082036BE4D16BCCDAE45F8580FD5" alt=""></p>
<h4 id="（3）修改用户信息">（3）修改用户信息</h4><p>点击 Options 中的 Modify 修改用户信息，例如把 id 为 123 的用户信息修改为：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/BEBE5379F4714355A9658350B3435978" alt=""></p>
<p>可以看到修改成功了：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/89D512FC29AE4DF188E8377722241F01" alt=""></p>
<p>后台数据库也是一致的：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/DE2C8AE05C9F4CDB88A466A6679F818C" alt=""></p>
<h4 id="（4）查找用户">（4）查找用户</h4><p>为了演示查找的特性，我们先多新建几个用户，例如：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/8499C657713F410BA9953B95BA8F84A7" alt=""></p>
<p>我们先查找 <code>name=&quot;hr&quot;</code> （company 为空）的用户，结果为：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/9686A56CAB0D47B6A7A2F82B9E5E0786" alt=""></p>
<p>再查找 <code>company=&quot;shiyanlou&quot;</code> （name 为空）的用户，结果为：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/91F89A07AFCE4C149DEA149F5D52C6D8" alt=""></p>
<p>最后，再查找 <code>name=&quot;hr&quot;</code> 并且 <code>company=&quot;shiyanlou&quot;</code> 的用户：</p>
<p><img src="http://note.youdao.com/yws/public/resource/12c681e2df18bc54eb6a25937a634508/96B037FA1D8944809588232DB3E84B30" alt=""></p>
<p>可以看到，条件查找是很灵活、多样的。</p>
<h2 id="十、作业思考">十、作业思考</h2><ul>
<li><p>本次项目课的内容比较多，建议多动手操作几遍，并且仔细回顾和思考，才能真正理解。</p>
</li>
<li><p>退出操作存在不完善的地方，退出后按返回键仍然可以进行操作，考虑如何完善它。</p>
</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>本课程是基于 <a href="https://www.shiyanlou.com">实验楼</a> 线上环境制作的，因此文档叙述和截图均与其有关。使用其他实验环境也没有太大影响，实验步骤是类似的。</p>
</blockquote>
<h2 id="一、实验说明及介绍">一、实验说明及介绍</h2><h3 id="1-_环境介绍">1. 环境介绍</h3><p>本实验环境采用带桌面的 Ubuntu Linux 环境，实验中可能会用到桌面上的程序：]]>
    
    </summary>
    
      <category term="Hibernate" scheme="http://henng.com/tags/Hibernate/"/>
    
      <category term="Java" scheme="http://henng.com/tags/Java/"/>
    
      <category term="SSH" scheme="http://henng.com/tags/SSH/"/>
    
      <category term="Spring" scheme="http://henng.com/tags/Spring/"/>
    
      <category term="Struts" scheme="http://henng.com/tags/Struts/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hibernate 框架]]></title>
    <link href="http://henng.com/2015/06/04/hibernate/"/>
    <id>http://henng.com/2015/06/04/hibernate/</id>
    <published>2015-06-04T02:59:13.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>Hibernate 是一个开源的对象关系映射框架，对 JDBC 进行了非常轻量级的对象封装，使得 Java 程序员可以随心所欲的使用对象编程思维来操纵数据库。Hibernate 可以应用在任何使用 JDBC 的场合。</p>
<p>直达 <a href="https://www.shiyanlou.com/teacher/courses/34" target="_blank" rel="external">Hibernate 框架教程</a>。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Hibernate 是一个开源的对象关系映射框架，对 JDBC 进行了非常轻量级的对象封装，使得 Java 程序员可以随心所欲的使用对象编程思维来操纵数据库。Hibernate 可以应用在任何使用 JDBC 的场合。</p>
<p>直达 <a href="https://w]]>
    </summary>
    
      <category term="Hibernate" scheme="http://henng.com/tags/Hibernate/"/>
    
      <category term="Java" scheme="http://henng.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[网页版大白 - Baymax]]></title>
    <link href="http://henng.com/2015/05/13/baymax/"/>
    <id>http://henng.com/2015/05/13/baymax/</id>
    <published>2015-05-13T08:33:08.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p><a href="http://henng.com/baymax/Baymax.html">查看 Demo</a></p>
<p>利用 HTML 和 CSS 完成的 Baymax，比较简单，以下是完整代码。<a id="more"></a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="doctype">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>Baymax<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css"></span><br><span class="line"><span class="tag">body</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#595959</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#baymax</span> <span class="rules">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*设置为 居中*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*高度*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">600px</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*隐藏溢出*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#head</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">64px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*以百分比定义圆角的形状*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*背景*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-bottom</span>:<span class="value"> -<span class="number">20px</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*设置下边框的样式*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">border-bottom</span>:<span class="value"> <span class="number">5px</span> solid <span class="hexcolor">#e0e0e0</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*属性设置元素的堆叠顺序；*/</span></span><br><span class="line">    <span class="comment">/*拥有更高堆叠顺序的元素总是会处于堆叠顺序较低的元素的前面*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">z-index</span>:<span class="value"> <span class="number">100</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*生成相对定位的元素*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#eye</span>,</span><br><span class="line"><span class="id">#eye2</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">11px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">13px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#282828</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">30px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">27px</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*旋转该元素*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">8deg</span>)</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#eye2</span> <span class="rules">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*使其旋转对称*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(-<span class="number">8deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">69px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">17px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#mouth</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">38px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">1.5px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#282828</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">34px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">10px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#torso</span>,</span><br><span class="line"><span class="id">#belly</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">200px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">180px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">47%</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*设置边框*/</span></span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">5px</span> solid <span class="hexcolor">#e0e0e0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-top</span>:<span class="value"> none</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">z-index</span>:<span class="value"> <span class="number">1</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#belly</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">300px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">245px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-top</span>:<span class="value"> -<span class="number">140px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">z-index</span>:<span class="value"> <span class="number">5</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#cover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">190px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">150px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> -<span class="number">20px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#heart</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">25px</span></span></span>; </span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"><span class="number">25px</span></span></span>; </span><br><span class="line">  <span class="rule"><span class="attribute">border-radius</span>:<span class="value"><span class="number">50%</span></span></span>; </span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value">relative</span></span>; </span><br><span class="line"></span><br><span class="line">  <span class="comment">/*向边框四周添加阴影效果*/</span></span><br><span class="line">  <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"><span class="number">2px</span> <span class="number">5px</span> <span class="number">2px</span> <span class="hexcolor">#ccc</span> inset</span></span>; </span><br><span class="line"></span><br><span class="line">  <span class="rule"><span class="attribute">right</span>:<span class="value">-<span class="number">115px</span></span></span>; </span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"><span class="number">40px</span></span></span>; </span><br><span class="line">  <span class="rule"><span class="attribute">z-index</span>:<span class="value"><span class="number">111</span></span></span>; </span><br><span class="line">  <span class="rule"><span class="attribute">border</span>:<span class="value"><span class="number">1px</span> solid <span class="hexcolor">#ccc</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#left-arm</span>,</span><br><span class="line"><span class="id">#right-arm</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">270px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">120px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> -<span class="number">350px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> -<span class="number">100px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">20deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">z-index</span>:<span class="value"> -<span class="number">1</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#right-arm</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(-<span class="number">20deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> -<span class="number">620px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="id">#l-bigfinger</span>,</span><br><span class="line"><span class="id">#r-bigfinger</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">50px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">20px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">250px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">50px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(-<span class="number">50deg</span>)</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#r-bigfinger</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">50px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">50deg</span>)</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#l-smallfinger</span>,</span><br><span class="line"><span class="id">#r-smallfinger</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">35px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">195px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">66px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(-<span class="number">40deg</span>)</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#r-smallfinger</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">40deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">195px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">37px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#left-leg</span>,</span><br><span class="line"><span class="id">#right-leg</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">170px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">90px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">40%</span> <span class="number">30%</span> <span class="number">10px</span> <span class="number">45%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> -<span class="number">640px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> -<span class="number">45px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(-<span class="number">1deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">z-index</span>:<span class="value"> -<span class="number">2</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="id">#right-leg</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"><span class="number">30%</span> <span class="number">40%</span> <span class="number">45%</span> <span class="number">10px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> -<span class="number">810px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">50px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">1deg</span>)</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"baymax"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 定义头部，包括两个眼睛、嘴 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"head"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"eye"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"eye2"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"mouth"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 定义躯干，包括心脏 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"torso"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"heart"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 定义肚子腹部，包括 cover（和躯干的连接处） --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"belly"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"cover"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 定义左臂，包括一大一小两个手指 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"left-arm"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"l-bigfinger"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"l-smallfinger"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 定义右臂，同样包括一大一小两个手指 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"right-arm"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"r-bigfinger"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"r-smallfinger"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 定义左腿 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"left-leg"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 定义右腿 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"right-leg"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p><a href="http://henng.com/baymax/Baymax.html">查看 Demo</a></p>
<p>利用 HTML 和 CSS 完成的 Baymax，比较简单，以下是完整代码。]]>
    
    </summary>
    
      <category term="CSS" scheme="http://henng.com/tags/CSS/"/>
    
      <category term="HTML" scheme="http://henng.com/tags/HTML/"/>
    
      <category term="前端" scheme="http://henng.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Struts 框架教程]]></title>
    <link href="http://henng.com/2015/05/10/struts/"/>
    <id>http://henng.com/2015/05/10/struts/</id>
    <published>2015-05-10T03:07:28.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>Struts 是Apache软件基金会（ASF）赞助的一个开源项目。通过采用JavaServlet/JSP技术，实现了基于Java EEWeb应用的MVC设计模式的应用框架，是MVC经典设计模式中的一个经典产品。</p>
<p>点这里学习：<a href="https://www.shiyanlou.com/courses/32" target="_blank" rel="external">Struts 框架教程</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Struts 是Apache软件基金会（ASF）赞助的一个开源项目。通过采用JavaServlet/JSP技术，实现了基于Java EEWeb应用的MVC设计模式的应用框架，是MVC经典设计模式中的一个经典产品。</p>
<p>点这里学习：<a href="https://]]>
    </summary>
    
      <category term="Java" scheme="http://henng.com/tags/Java/"/>
    
      <category term="Struts" scheme="http://henng.com/tags/Struts/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Java 常用设计模式]]></title>
    <link href="http://henng.com/2015/04/26/design-pattern/"/>
    <id>http://henng.com/2015/04/26/design-pattern/</id>
    <published>2015-04-26T12:03:54.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>也是我在 <a href="https://www.shiyanlou.com/" target="_blank" rel="external">实验楼</a> 写的，涉及了常用的设计模式，包括工厂模式、抽象工厂模式、适配器模式、装饰者模式、观察者模式以及单例模式。</p>
<p>点这里学习：<a href="https://www.shiyanlou.com/courses/100" target="_blank" rel="external">Java进阶之设计模式</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>也是我在 <a href="https://www.shiyanlou.com/" target="_blank" rel="external">实验楼</a> 写的，涉及了常用的设计模式，包括工厂模式、抽象工厂模式、适配器模式、装饰者模式、观察者模式以及单例模式。</p>]]>
    </summary>
    
      <category term="Design Pattern" scheme="http://henng.com/tags/Design-Pattern/"/>
    
      <category term="Java" scheme="http://henng.com/tags/Java/"/>
    
      <category term="设计模式" scheme="http://henng.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hadoop HBase Hive Mahout 全系列教程]]></title>
    <link href="http://henng.com/2015/04/26/hadoop-all/"/>
    <id>http://henng.com/2015/04/26/hadoop-all/</id>
    <published>2015-04-26T11:05:58.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>最近在 <a href="https://www.shiyanlou.com/" target="_blank" rel="external">实验楼</a> 实习，写了些东西。最先接触的是 Hadoop 系列，但我接手的时候是从 HBase 开始写的。不过，首先要学习的就是 Hadoop。</p>
<ul>
<li><h3 id="Hadoop">Hadoop</h3></li>
</ul>
<p>首先是 Hadoop 的教程，这里有几个关于 Hadoop 的文章。</p>
<p>1、<a href="https://www.shiyanlou.com/courses/35" target="_blank" rel="external">Hadoop部署及管理</a></p>
<p>2、<a href="http://blog.csdn.net/baolibin528/article/details/42939477" target="_blank" rel="external">Hadoop2.6.0伪分布环境搭建</a><br><a id="more"></a></p>
<ul>
<li><h3 id="HBase">HBase</h3></li>
</ul>
<p>其次是 HBase 的相关课程。HBase 是一个开源的非关系型分布式数据库（NoSQL），它参考了谷歌的 BigTable 建模，实现的编程语言为 Java。它是 Apache 软件基金会的 Hadoop 项目的一部分，运行于 HDFS 文件系统之上，为 Hadoop 提供类似于 BigTable 规模的服务，可以存储海量稀疏的数据，并具备一定的容错性、高可靠性及伸缩性。主要应用场景是实时随机读写超大规模的数据。</p>
<p>注意 Hadoop 和 HBase 的版本问题，不过使用实验楼的虚拟环境你可以不用担心这个问题，因为环境都是我们搭建好了的，直接使用即可，免费又方便。</p>
<p>直接进入并开始动手实验 <a href="https://www.shiyanlou.com/courses/37" target="_blank" rel="external">HBase 系列课程</a> . 后续的课程也可以直接使用实验楼的虚拟环境。</p>
<ul>
<li><h3 id="Hive">Hive</h3></li>
</ul>
<p>接着是 Hive 的相关课程。Hive 是一个基于 Hadoop 文件系统之上的数据仓库架构。它可以将结构化的数据文件映射为一张数据库表，并提供简单的 sql 查询功能。还可以将 sql 语句转换为 MapReduce 任务运行。</p>
<p>直接进入并开始动手实验 <a href="https://www.shiyanlou.com/courses/38" target="_blank" rel="external">Hive 教程</a> .</p>
<ul>
<li><h3 id="Mahout">Mahout</h3></li>
</ul>
<p>然后是 Mahout 的相关课程。Mahout 是 Apache Software Foundation（ASF） 旗下的一个开源项目，Mahout 目前在各种推荐系统中用得挺多的，提供一些可扩展的机器学习领域经典算法的实现，旨在帮助开发人员更加方便快捷地创建智能应用程序。</p>
<p>直接进入并开始动手实验 <a href="https://www.shiyanlou.com/courses/39" target="_blank" rel="external">Mahout 教程</a> .</p>
<ul>
<li><h3 id="Mahout_推荐系统">Mahout 推荐系统</h3></li>
</ul>
<p>最后介绍一个基于 Mahout 的推荐系统，它针对问答网站上的问答数据，使用 Mahout 来分析再给出推荐结果，即推荐用户他可能愿意回答的问题。</p>
<p>直接进入并开始动手实验 <a href="https://www.shiyanlou.com/courses/41" target="_blank" rel="external">问答网站推荐系统</a> .</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>最近在 <a href="https://www.shiyanlou.com/">实验楼</a> 实习，写了些东西。最先接触的是 Hadoop 系列，但我接手的时候是从 HBase 开始写的。不过，首先要学习的就是 Hadoop。</p>
<ul>
<li><h3 id="Hadoop">Hadoop</h3></li>
</ul>
<p>首先是 Hadoop 的教程，这里有几个关于 Hadoop 的文章。</p>
<p>1、<a href="https://www.shiyanlou.com/courses/35">Hadoop部署及管理</a></p>
<p>2、<a href="http://blog.csdn.net/baolibin528/article/details/42939477">Hadoop2.6.0伪分布环境搭建</a><br>]]>
    
    </summary>
    
      <category term="HBase" scheme="http://henng.com/tags/HBase/"/>
    
      <category term="Hadoop" scheme="http://henng.com/tags/Hadoop/"/>
    
      <category term="Hive" scheme="http://henng.com/tags/Hive/"/>
    
      <category term="Java" scheme="http://henng.com/tags/Java/"/>
    
      <category term="Mahout" scheme="http://henng.com/tags/Mahout/"/>
    
      <category term="大数据" scheme="http://henng.com/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="推荐系统" scheme="http://henng.com/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[那个偷吃鱼皮花生的男孩]]></title>
    <link href="http://henng.com/2015/03/14/the-boy/"/>
    <id>http://henng.com/2015/03/14/the-boy/</id>
    <published>2015-03-14T05:54:15.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>想写这篇，已经很久了。</p>
<p>不知道为什么，现在才开始动笔。</p>
<p>以前我好像不怎么想家的，今年回学校几天，竟然有点想家。想想原因，可能是以前回去的地方，都不能被称为家吧。拆迁之后，一直是在外面租的房子，这次过年终于回居，虽然一切都不再一样，但这才是永远的居所。<a id="more"></a></p>
<p>忘了是哪天，在超市里见到一包鱼皮花生就买回来了。</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/2C56CC514624471C99DBC9119D734EE9" alt="peanut"></p>
<p>我小时候很贪吃的，可能男孩子都比较调皮和好奇。我奶奶说过我很小的时候，经常在她们还在做饭的时候，拿案板上的肉吃，然后我就吃腻了以致于我后来都不爱吃肉。爷爷呢经常买一些吃的，就着喝点小酒。有一次我发现他床边的柜子上挂着一袋东西，摸了摸、看了看发现是一袋鱼皮花生。我立马就扣了个洞，小心翼翼勾出来一两个。为了不被发现，我每次都只吃一两个，然后我都不知道这样过了好多天，爷爷忽然发现他的零食怎么不对劲，我都不敢说是我干的坏事。</p>
<p>于是我想起来那个老房子。三层，两通。门前一个庭院，有各种果树和花木。小的时候有个夜晚玩捉迷藏，我很精灵的爬上院子里那棵樱桃树上，结果小伙伴怎么都找不到我，还是我自己忍不住笑，最后自己下来了。那株芦荟曾帮助叔叔缓解过烫伤，我养的仙人掌当时已经比我还高，桔子柚子自然不少，野生枇杷太小我都懒得吃，杏子、李子和樱桃总是招来各种尖嘴的鸟类，头顶一片葡萄藤是夏日最佳的消暑场所。</p>
<p>失去是一种常态。无论是你曾坚定不移的，还是你根本没在乎的。今年回家去，爷爷早已不再喝酒了，中风让他行动不便；奶奶身体也大不如从前。新的房子，好像也没有从前的热闹。</p>
<p>而那个偷吃鱼皮花生的男孩，已经为他们削过好多次水果皮。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>想写这篇，已经很久了。</p>
<p>不知道为什么，现在才开始动笔。</p>
<p>以前我好像不怎么想家的，今年回学校几天，竟然有点想家。想想原因，可能是以前回去的地方，都不能被称为家吧。拆迁之后，一直是在外面租的房子，这次过年终于回居，虽然一切都不再一样，但这才是永远的居所。]]>
    
    </summary>
    
      <category term="原创" scheme="http://henng.com/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="生活" scheme="http://henng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="生活" scheme="http://henng.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[奇妙能力歌]]></title>
    <link href="http://henng.com/2014/12/09/qimiaonenglige/"/>
    <id>http://henng.com/2014/12/09/qimiaonenglige/</id>
    <published>2014-12-09T05:26:05.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>我看过沙漠下暴雨<br>看过大海亲吻鲨鱼<br>看过黄昏追逐黎明<br>没看过你</p>
<p>我知道美丽会老去<br>生命之外还有生命<br>我知道风里有诗句<br>不知道你<br><a id="more"></a></p>
<p>我听过荒芜变成热闹<br>听过尘埃掩埋城堡<br>听过天空拒绝飞鸟<br>没听过你</p>
<p>我明白眼前都是气泡<br>安静的才是苦口良药<br>明白什么才让我骄傲<br>不明白你</p>
<p>我拒绝更好更圆的月亮<br>拒绝未知的疯狂<br>拒绝声色的张扬<br>不拒绝你</p>
<p>我变成荒凉的景象<br>变成无所谓的模样<br>变成透明的高墙<br>没能变成你</p>
<p>我听过空境的回音<br>雨水浇绿孤山岭<br>听过被诅咒的秘密<br>没听过你</p>
<p>我抓住散落的欲望<br>缱绻的馥郁让我紧张<br>我抓住世间的假象<br>没抓住你</p>
<p>我包容六月清泉结冰<br>包容不老的生命<br>包容世界的迟疑<br>没包容你</p>
<p>我忘了置身濒绝孤岛<br>忘了眼泪不过失效药<br>忘了百年无声口号<br>没能忘记你</p>
<p>我想要更好更圆的月亮<br>想要未知的疯狂<br>想要声色的张扬<br>我想要你</p>
<embed src="http://www.xiami.com/widget/11097325_1773565409/singlePlayer.swf" type="application/x-shockwave-flash" width="257" height="33" wmode="transparent">]]></content>
    <summary type="html">
    <![CDATA[<p>我看过沙漠下暴雨<br>看过大海亲吻鲨鱼<br>看过黄昏追逐黎明<br>没看过你</p>
<p>我知道美丽会老去<br>生命之外还有生命<br>我知道风里有诗句<br>不知道你<br>]]>
    
    </summary>
    
      <category term="song" scheme="http://henng.com/tags/song/"/>
    
      <category term="民谣" scheme="http://henng.com/tags/%E6%B0%91%E8%B0%A3/"/>
    
      <category term="陈粒" scheme="http://henng.com/tags/%E9%99%88%E7%B2%92/"/>
    
      <category term="生活" scheme="http://henng.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[《搏击俱乐部》台词]]></title>
    <link href="http://henng.com/2014/11/13/fight-club/"/>
    <id>http://henng.com/2014/11/13/fight-club/</id>
    <published>2014-11-13T14:11:29.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/F2E2D1CB266145BA8768A5986E30E594" alt=""><a id="more"></a><br><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/29D1840F17FF4F8CA045B613C4D98B82" alt=""><br><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/D4FCECCCFFFE464C809FF598566C8030" alt=""><br><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/61154A4DCF65455A9D8B1ED863CA64D2" alt=""><br><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/E6FBF6D1F6454D0A892BBBCAB8BC824F" alt=""><br><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/4CC42C4372004AF9A8FF5B9490307D36" alt=""></p>
<p><em>from <a href="http://www.douban.com/photos/album/143955885/?start=0" target="_blank" rel="external">翻滚吧！蛋堡的相册</a></em></p>
]]></content>
    <summary type="html">
    <![CDATA[<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/F2E2D1CB266145BA8768A5986E30E594" alt="">]]>
    
    </summary>
    
      <category term="文艺" scheme="http://henng.com/tags/%E6%96%87%E8%89%BA/"/>
    
      <category term="电影" scheme="http://henng.com/tags/%E7%94%B5%E5%BD%B1/"/>
    
      <category term="转载" scheme="http://henng.com/tags/%E8%BD%AC%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[导入android-support-v7出错的解决办法]]></title>
    <link href="http://henng.com/2014/11/12/android-support-v7/"/>
    <id>http://henng.com/2014/11/12/android-support-v7/</id>
    <published>2014-11-12T11:08:33.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>今天，由于某个需要，在用 ActionBar 的时候要支持 2.2+ 以上的版本，所以就想到用 Android 自带的 Support Library. 在新建项目的时候，IDE 自动导入了相应的 android-support-v7-appcompat，然而在项目的 <code>import android.support.v7.app.ActionBarActivity;</code> 老是有错，提示 “cannot be resolved”. </p>
<p>重新试了好多次未果，上网搜索许久未果。后来终于发现一个比较靠谱的解答，简单来讲，就是，v7，v4的版本要一致，貌似二者有依赖性。所以直接把 v7 中 libs 目录下的 jar 包拷贝到自己项目的 libs 目录下即可。</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/4E07490827D442D3B9E7D1CA80D082C8" alt="android-support-v7-appcompat"></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>今天，由于某个需要，在用 ActionBar 的时候要支持 2.2+ 以上的版本，所以就想到用 Android 自带的 Support Library. 在新建项目的时候，IDE 自动导入了相应的 android-support-v7-appcompat，然而在项目的 <c]]>
    </summary>
    
      <category term="Android" scheme="http://henng.com/tags/Android/"/>
    
      <category term="android" scheme="http://henng.com/tags/android/"/>
    
      <category term="code" scheme="http://henng.com/categories/code/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[我遇到的 “笔试+面试” 题目]]></title>
    <link href="http://henng.com/2014/10/12/test-questions/"/>
    <id>http://henng.com/2014/10/12/test-questions/</id>
    <published>2014-10-12T07:10:28.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>我觉得还是有必要记录自己笔试和面试中遇到的题目。虽然很多声明最好不要泄露题目，但自己记录下来，重新思考过的才有收获，不然做了题目也没有什么帮助。因此这个帖子会不定时更新。</p>
<p>昨天的美团笔试，共8道必答编程题，其余的是分岗位的选答题。90分钟，我的确做不完。做了3道半的样子，第4题都还没做完。做了 Android开发 的选择题，“什么是 Service 以及 Service 的生命周期、启动方式等等”，比较简单。以下是<a id="more"></a>回忆版。</p>
<blockquote>
<p>1.有一个字符串数组 array，存在空字符串，且字符串是按照字母表顺序排列的，例如 {“array”, “”, “”, “boy”, “cost”, “hello”, “next”, “yep”}. 要查找某个字符串 s （例如 “hello”） 出现的位置。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findString</span><span class="params">(String[] array, String s)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//s为空直接返回</span></span><br><span class="line">	<span class="keyword">if</span> ( s.equals(<span class="string">""</span>) || s == <span class="keyword">null</span>) &#123;</span><br><span class="line">		System.out.println(<span class="string">"s不能为空"</span>);</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; ) &#123;</span><br><span class="line">		<span class="keyword">if</span> ( !array[i].equals(<span class="string">""</span>) ) &#123;</span><br><span class="line">           	<span class="comment">//由于是字母表顺序排列的，那么如果s的第一个字母比array[i]的</span></span><br><span class="line">               <span class="comment">//第一个字母小，则肯定不存在，立即返回</span></span><br><span class="line">			<span class="keyword">if</span> ( s.charAt(<span class="number">0</span>) &lt; array[i].charAt(<span class="number">0</span>) ) &#123;</span><br><span class="line">				<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(<span class="number">0</span>) == array[i].charAt(<span class="number">0</span>)) &#123;</span><br><span class="line">				<span class="comment">//相等的情况则继续判断字符串是否相等</span></span><br><span class="line">                   <span class="keyword">if</span> (s.equals(array[i])) &#123;</span><br><span class="line">					<span class="keyword">return</span> i;<span class="comment">//相等：返回位置</span></span><br><span class="line">				&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">					i++;<span class="comment">//不等：继续下一个</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;<span class="comment">//如果s的第一个字母比array[i]的</span></span><br><span class="line">               <span class="comment">//第一个字母大，继续比较下一个</span></span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123; <span class="comment">//跳过为空的字符串</span></span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	String[] strings = &#123;<span class="string">"array"</span>, <span class="string">""</span>, <span class="string">""</span>, <span class="string">"boy"</span>, <span class="string">"hello"</span>, <span class="string">"next"</span>, <span class="string">"yep"</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> i = findString(strings, <span class="string">"hello"</span>);</span><br><span class="line">	<span class="keyword">if</span> (i == -<span class="number">1</span>) &#123;</span><br><span class="line">		System.out.println(<span class="string">"not found!"</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span></span><br><span class="line">		System.out.println(<span class="string">"the index is: "</span> +i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2.有一个长度为 n 的整数数组，找出数组的下标 l, r 且 l, r 可以把数组等分为三部分。例如整数数组为 <img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/53B1CCF3387A40BBA79658024AC9F163" alt="">  求出 l 和 r 使得这三部分相等。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OneOfThree</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;<span class="comment">//整个数组的总和</span></span><br><span class="line">	<span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">0</span>;<span class="comment">//初始化</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">		sum += array[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//由于是整数数组，如果总和不是3的倍数，那么肯定不存在</span></span><br><span class="line">	<span class="keyword">if</span> ( sum%<span class="number">3</span> != <span class="number">0</span> ) &#123;</span><br><span class="line">		System.out.println(<span class="string">"no that l &amp; r index"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> s1 = array[<span class="number">0</span>];<span class="comment">//s1表示第一部分的和</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (s1 &lt; sum/<span class="number">3</span>) &#123;<span class="comment">//比 (sum/3) 小，则继续累加</span></span><br><span class="line">			s1 += array[i+<span class="number">1</span>];</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (s1 == sum/<span class="number">3</span>) &#123;</span><br><span class="line">			l = i;<span class="comment">//相等了，把值交给l，一定要退出循环</span></span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;<span class="comment">//大于了，肯定不存在这样的 l 了</span></span><br><span class="line">			l = -<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//同理处理，但s2表示的是第三部分的和，从最后一个数，往前累加比较</span></span><br><span class="line">	<span class="keyword">int</span> s2 = array[array.length - <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = array.length-<span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">		<span class="keyword">if</span> (s2 &lt; sum/<span class="number">3</span>) &#123;</span><br><span class="line">			s2 += array[i-<span class="number">1</span>];</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (s2 == sum/<span class="number">3</span>) &#123;</span><br><span class="line">			r = i-<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			r = -<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">			</span><br><span class="line">	<span class="keyword">if</span> ( (l == -<span class="number">1</span>) || (r == -<span class="number">1</span>) ) &#123;</span><br><span class="line">		System.out.println(<span class="string">"no that l &amp; r index"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> ( l&gt;<span class="number">0</span> &amp;&amp; r&gt;<span class="number">0</span> &amp;&amp; l &lt; r &amp;&amp; r &lt; array.length-<span class="number">1</span> ) &#123;</span><br><span class="line">		System.out.println(<span class="string">"l = "</span> + l);</span><br><span class="line">		System.out.println(<span class="string">"r = "</span> + r);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[] b = &#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</span><br><span class="line">	OneOfThree(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>3.长度为 n 的整数数组，对数组进行整理，使得所有的奇数都在数组的前面，而所有的偶数都在数组的后面。例如数组为 {1,2,3,4,5,6}. 整理后为 {1,3,5,2,4,6}.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//判断前后两个元素是否需要交换</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isNeedSwap</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (a%<span class="number">2</span> != <span class="number">0</span> &amp;&amp; b%<span class="number">2</span> == <span class="number">0</span>) &#123;<span class="comment">//奇数在前，偶数在后，不需要交换</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (a%<span class="number">2</span> == <span class="number">0</span> &amp;&amp; b%<span class="number">2</span> != <span class="number">0</span>) &#123;<span class="comment">//偶数在前，奇数在后，需要交换</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">       </span><br><span class="line">       <span class="comment">/*</span><br><span class="line">	 * 如果声明排序后原来的相对位置不能变，则 return a==b</span><br><span class="line">	 * 如果需要升序排列，则 return a&lt;b</span><br><span class="line">	 * 如需要降序排列，则 return a&gt;b</span><br><span class="line">	 */</span></span><br><span class="line">       </span><br><span class="line">	<span class="keyword">return</span> a==b;<span class="comment">//同奇同偶，顺序不变</span></span><br><span class="line">       </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//交换函数的实现函数</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Swap</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> temp;</span><br><span class="line">	temp = array[a];</span><br><span class="line">	array[a] = array[b];</span><br><span class="line">	array[b] = temp;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//利用插入排序来实现，也可以用其他排序方法</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">InsertSort</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">			<span class="keyword">if</span> ( isNeedSwap(array[j-<span class="number">1</span>], array[j]) ) &#123;</span><br><span class="line">				Swap(array, j, j-<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span>[] a = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">23</span>&#125;;</span><br><span class="line">	InsertSort(a);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">		System.out.print(a[i]+<span class="string">" "</span>);</span><br><span class="line">	&#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>4.升序排列的 1号 整数数组，例如 {1,2,3,4,5,6}. 判断 1号 数组中是否包含 2号 数组，例如{1,5}.<br>PS: 2号 数组可能存在相同的元素，如{1,5,5}. 也判断为存在，但{1,5,5,7} 则判断为不存在。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">findArray</span><span class="params">(<span class="keyword">int</span>[] array1, <span class="keyword">int</span>[] array2)</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">boolean</span> flag = <span class="keyword">false</span>;<span class="comment">//是否找到相等的数</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; array1.length &amp;&amp; j &lt; array2.length; ) &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//由于是升序，如果2号数组的元素比1号数组的元素小，则肯定不存在</span></span><br><span class="line">		<span class="keyword">if</span> (array2[j] &lt; array1[i]) &#123;</span><br><span class="line">			flag = <span class="keyword">false</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//相等，则找到一个匹配的，2号数组继续往后面移，1号数组又从第一个元素开始比较</span></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (array2[j] == array1[i]) &#123;</span><br><span class="line">			j++;</span><br><span class="line">			i = <span class="number">0</span>;<span class="comment">//如果2号数组也是升序的，则不必i=0从头开始</span></span><br><span class="line">			flag = <span class="keyword">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//大于，则1号数组需要往后面移再比较</span></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			i++;</span><br><span class="line">			flag = <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (flag) &#123;</span><br><span class="line">		System.out.println(<span class="string">"exists"</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">"not exists"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[] c = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span>[] d = &#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>&#125;;</span><br><span class="line">	findArray(c, d);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>我觉得还是有必要记录自己笔试和面试中遇到的题目。虽然很多声明最好不要泄露题目，但自己记录下来，重新思考过的才有收获，不然做了题目也没有什么帮助。因此这个帖子会不定时更新。</p>
<p>昨天的美团笔试，共8道必答编程题，其余的是分岗位的选答题。90分钟，我的确做不完。做了3道半的样子，第4题都还没做完。做了 Android开发 的选择题，“什么是 Service 以及 Service 的生命周期、启动方式等等”，比较简单。以下是]]>
    
    </summary>
    
      <category term="Java" scheme="http://henng.com/tags/Java/"/>
    
      <category term="code" scheme="http://henng.com/tags/code/"/>
    
      <category term="原创" scheme="http://henng.com/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="笔记" scheme="http://henng.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="笔试" scheme="http://henng.com/tags/%E7%AC%94%E8%AF%95/"/>
    
      <category term="面试" scheme="http://henng.com/tags/%E9%9D%A2%E8%AF%95/"/>
    
      <category term="code" scheme="http://henng.com/categories/code/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[复习笔记片段]]></title>
    <link href="http://henng.com/2014/10/08/review-notes/"/>
    <id>http://henng.com/2014/10/08/review-notes/</id>
    <published>2014-10-08T07:37:44.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>之前提到的，打算把国庆期间复习的笔记，整理贴出来一部分有意思的题目，虽然有些比较基础，但更不可掉以轻心。</p>
<h3 id="-_Fibonacci_数列_—_《剑指offer》">- Fibonacci 数列 — 《剑指offer》</h3><p>首先大家都知道，Fibonacci数列计算公式如下：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/25AC98CAC2D441BFA9353121D9844E0B" alt="Fibonacci 公式"></p>
<p><strong>最先想到的就是递归吧：</strong><a id="more"></a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span>  <span class="title">Fibonacci</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (n &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;<span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> Fibonacci(n-<span class="number">1</span>) + Fibonacci(n-<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但这样递归的效率不高，简单分析一下，比如计算 Fibonacci(10) 的时候，你计算 Fibonacci(10) 会调用 Fibonacci(9) + <code>Fibonacci(8)</code>，而 Fibonacci(9) 又会调用 <code>Fibonacci(8)</code> + Fibonacci(7) … 不难发现，Fibonacci(8) 在这里存在重复调用、计算，类似的还有其他 Fibonacci 调用也存在重复情况。而且 n 越大，重复调用越多，效率越低。我在 eclipse 上试着运行 Fibonacci(100) ，结果 eclipse 半天都不出结果，而且风扇转得很快。</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/F4B3844E052243EB952DE56F1291A514" alt="Fibonacci(100) 递归"></p>
<p>所以这种方法，虽然简单，但实际上不可行，在笔试面试中用这种方法，估计得分很低。通过上面的分析，<strong>我们有一个思路，就是避免重复调用，最好能利用已经计算过的中间项，于是就有了迭代法，也可以理解为辗转相加：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">Fibonacci2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (n &lt;=<span class="number">0</span> ) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">long</span> fOne = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">long</span> fTwo = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">long</span> fN = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		fN = fOne + fTwo;</span><br><span class="line">		fTwo = fOne; <span class="comment">//辗转相加</span></span><br><span class="line">		fOne = fN;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> fN;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>再用 eclipse 测试，很快得到结果：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/337D1975CCDE43CD868472EA319859B3" alt="Fibonacci(100) 迭代"></p>
<h3 id="-_求二进制中1的个数">- 求二进制中1的个数</h3><p>这道题也是再烂大街不过了，腾讯面试的时候被问过，百度笔试题也有考到，然后在《剑指offer》里面也看到了。题目大概意思就是</p>
<blockquote>
<p>输入一个整数，然后把整数用二进制表示，求出该二进制中 1 的个数。例如输入整数 10，10 的二进制表示为 <code>1010</code> , 1 的个数为 2， 那么输出结果即为 2.</p>
</blockquote>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/A94A1FDFEC364E92AB3AC76F57E2793A" alt="10的二进制表示中1的个数"></p>
<p><strong>要求 1 的个数，就需要整数n 与 1 按位与 <code>n&amp;1</code>. 第一种方法是，把整数从最末位开始，逐个往右移，并与 1 做 <code>&amp;</code> 运算，即：</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Count1</span><span class="params">(<span class="keyword">int</span> n)</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">while</span> (n)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span> ( n&amp;<span class="number">1</span> )</span><br><span class="line">        	count++;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> count;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种方法有一个问题，就是当 n 为负数(n &lt; 0) 的时候，不但不能得到正确的结果，还将导致死循环。以负数 0x80000000 为例，负数右移一位并不是简单地把最高位的1移到第二位变成 0x40000000，而是 0xC0000000 （这是因为移位前是个负数，移位后要保证仍然是个负数， 因此移位后的最高位会设为1）。如果一直做右移运算，最终这个数字就会变成 0xFFFFFFFF 而陷入死循环。</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/A798F396BE7F47C5A18B4D69152090C9" alt="陷入无限循环"></p>
<p><strong>第二种方法，我们不移动整数 n 了，我们移动 1，每次使 1 左移一位，并与整数 n 做 <code>&amp;</code> 运算。</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Count2</span><span class="params">(<span class="keyword">int</span> n)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">      <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">unsigned</span> <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">while</span> (flag)</span><br><span class="line">      &#123;</span><br><span class="line">            <span class="keyword">if</span>(n &amp; flag)</span><br><span class="line">                  count ++;</span><br><span class="line">            flag &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/30ACE0354E7C4286AAF7A0AF03B8F3AD" alt="-10的二进制表示中1的个数"></p>
<p>因为 1 始终是正整数，不会存在负数最高位补1的情况。这个方法也是我一直在用的方法，笔试面试遇到的时候都是写的这个。</p>
<p>但在《剑指offer》一书中，还记录了一种思路，并且认为这比前面两个思路都要好。如果一个整数不为0，那么这个整数至少有一位是1. 如果我们把这个整数减去1，那么原来处在整数最右边的1就会变成0，原来在1后面的所有的0都会变成1，其余的所有位将不受到影响。</p>
<blockquote>
<p>例如：一个二进制数1100，从右边数起的第三位是处于最右边的一个1。减去1后，第三位变成0，它后面 的两位0变成1，而前面的1保持不变，因此得到结果是1011。</p>
</blockquote>
<p>我们发现减1的结果是把从最右边一个1开始的所有位都取反了。这个时候如果我们再把原来的整数和减去1之后的结果做与运算，从原来整数最右边一个1那一位 开始所有位都会变成0。如 1100&amp;1011=1000. <strong>也就是说，把一个整数减去1，再和原整数做与<code>&amp;</code>运算，会把该整数最右边一个1变成0. 那么一个整数的二进制有多少个1，就可以进行多少次这样的操作。</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Count3</span><span class="params">(<span class="keyword">int</span> n)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (n)</span><br><span class="line">    &#123;</span><br><span class="line">        count++;</span><br><span class="line">        n = (n - <span class="number">1</span>) &amp; n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>网上还有其他方法，比如<code>查表法</code>、<code>平行法</code>、<code>×86指令法</code> 等等，有兴趣的可以深入研究。</p>
<h3 id="-_String">- String</h3><p>这段代码，你觉得会输出什么？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	String s1;</span><br><span class="line">	</span><br><span class="line">	System.out.println(<span class="string">"s1 = "</span> + s1);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>答案是，编译不通过，Java 局部变量必须初始化。</p>
<p>下面这个呢？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String s2;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			</span><br><span class="line">	System.out.println(<span class="string">"s2 = "</span> + s2);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>是 <code>s2 =</code> 还是<code>s2 = null</code> ？ 答案是后者，对于静态全局变量，<code>String</code> 型静态变量初始化为 <strong>null</strong>, <code>short</code>、<code>int</code>、<code>long</code>、<code>byte</code>型初始化为 <strong>0</strong>. <code>float</code>、<code>double</code> 型初始化为 <strong>0.0</strong>. <code>char</code> 型初始化为<strong>空</strong>（不是null）. <code>boolean</code> 型初始化为 <strong>false</strong>.</p>
<p>先写到这里 :)</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>之前提到的，打算把国庆期间复习的笔记，整理贴出来一部分有意思的题目，虽然有些比较基础，但更不可掉以轻心。</p>
<h3 id="-_Fibonacci_数列_—_《剑指offer》">- Fibonacci 数列 — 《剑指offer》</h3><p>首先大家都知道，Fibonacci数列计算公式如下：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/25AC98CAC2D441BFA9353121D9844E0B" alt="Fibonacci 公式"></p>
<p><strong>最先想到的就是递归吧：</strong>]]>
    
    </summary>
    
      <category term="C" scheme="http://henng.com/tags/C/"/>
    
      <category term="Java" scheme="http://henng.com/tags/Java/"/>
    
      <category term="code" scheme="http://henng.com/tags/code/"/>
    
      <category term="原创" scheme="http://henng.com/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="笔记" scheme="http://henng.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="code" scheme="http://henng.com/categories/code/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[国庆我做了什么]]></title>
    <link href="http://henng.com/2014/10/07/national-day/"/>
    <id>http://henng.com/2014/10/07/national-day/</id>
    <published>2014-10-07T12:11:51.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>不知不觉，国庆7天长假都过完了。之前微博上看到有用表情来描述7天，大都是这样的…</p>
<table cellpadding="0" cellspacing="0"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/02728DB213994C818E86208724130BBF" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/E248C4B283CB464DA3F32EC14EE0AD8A" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/91E3A84978B3477B8EE809DCA8C73346" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/45E0421F7D5144EC9089C8B6AC2B4075" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/DB37DAE50EF9411CB478C33AE1B36C8B" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/0D4D4BD9936E4DA1A8E3C8910DFACBBF" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/59B6562EB6D34357955D8470A4BA24FA" width="20" height="20"><br></td></table>


<p>我呢，可能是…</p>
<table cellpadding="0" cellspacing="0"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br></td><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br></td></table>

<a id="more"></a>
<p>因为之前都想好了，国庆要复习充电。这些天也做了不少笔记，忽然发现俗话还是有道理的。“好记性不如烂笔头”啊，以前其实也复习过，但时间一久，感觉总是记不牢，于是都记下来，在动笔写的过程中，会思考以前根本没想过的问题，从而比以前记得更牢。另外就是动手实践了，光看真的不行，以为自己看懂了掌握了但为什么容易忘呢？其实还是没有完全掌握，有代码的自己写一遍，跑一下；没代码的自己画一下，切莫“纸上谈兵”。</p>
<p>7天的复习充电，越来越感觉基础知识的重要性。我甚至想象过，如果大一刚开始，就养成了良好的笔记习惯，归类分明、条理清晰，现在复习起来也没这么麻烦，而且如果真的笔记做得不错，现在对于知识点的掌握也不至于这样不牢固。学习方法真的很重要，但别人讲的不一定适合自己，摸索出适合自己的方法，效率才会提高，学习起来也才不会那么枯燥。真是有因必有果，一环扣一环。</p>
<p>过程中也发现，很多知识或者你需要了解和掌握的，其实在学校课堂里是学不到的。这里面或许有现行教育制度的缺失，在学校与社会、学校和企业的衔接上做得不够好，但更多的应该是我们学生自己的原因。如果你打算读研，就应该尽早周知相关政策以便做出相应准备；如果打算工作呢，就应该早一点了解招聘者需要什么。这也是我现在觉得以前没做好的地方，虽然我早一点准备了，但是没有很详细的去了解面试相关的特性，光有知识技能贮备是不够的。</p>
<p>那么如何保持较为高效的学习呢？我有一个很简单粗暴的方式，就是保持在一个时间段只做一件事，你在两个小时内看书，那就好好看书，别动其他东西；你要保持高度的优先级，千万不要中途想起什么或者被其他事情打断就去处理，咱不干中断的事；等这件事情的时间片到了，你再去做其他的。当然我也说过，要找出适合自己的方式来，我的不一定适合你。</p>
<p>我打算后面把一些笔记和一些有意思的题目贴出来，在复习过程中，也深深感到自己算法太菜了…这也是我好几次面试被 pass 掉的原因。因为这方面也实在练得太少太少，被打掉的信心，那就一点一点再捡起来。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>不知不觉，国庆7天长假都过完了。之前微博上看到有用表情来描述7天，大都是这样的…</p>
<table cellpadding="0" cellspacing="0" ><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/02728DB213994C818E86208724130BBF" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/E248C4B283CB464DA3F32EC14EE0AD8A" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/91E3A84978B3477B8EE809DCA8C73346" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/45E0421F7D5144EC9089C8B6AC2B4075" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/DB37DAE50EF9411CB478C33AE1B36C8B" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/0D4D4BD9936E4DA1A8E3C8910DFACBBF" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/59B6562EB6D34357955D8470A4BA24FA" width="20" height="20"><br></table>


<p>我呢，可能是…</p>
<table cellpadding="0" cellspacing="0" ><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br><td><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B141F0BD5AB4404EB1CCA355C419A6EF" width="20" height="20"><br></table>]]>
    
    </summary>
    
      <category term="原创" scheme="http://henng.com/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="生活" scheme="http://henng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="生活" scheme="http://henng.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[公平和努力]]></title>
    <link href="http://henng.com/2014/09/24/fair/"/>
    <id>http://henng.com/2014/09/24/fair/</id>
    <published>2014-09-23T16:22:01.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>昨天在微博上看到有人转一篇长微博，<a href="http://weibo.com/1880476481/BokjWEqU2" target="_blank" rel="external">原帖在此</a>。大致情况是一位内地孕妇想去 HK, 她本人申明此行目的是散心、旅游，但也许香港入境处却不这么认为，觉得她有 <code>“赴港生子”</code> 的可能性，于是将她遣返回京。回来后，事件主人公发了上面那篇长微博，众多网友对其真正目的的解读也是产生了严重的分歧。</p>
<p>这里不去讨论她真正的目的了。我最开始感兴趣的是，为什么大家对 <code>“赴港生子”</code> 这个事情这么敏感。在网上找了一些资料后，才知道在香港出生的内地孩子即享有香港永久居民权，拥有特区护照，享有免费医疗及十二年免费教育，全球多个国家和地区免签证… 恍然大悟。<a id="more"></a></p>
<blockquote>
<p>赴港生子的香港身份在法律上的确认，源自2001年7月20日判决的“庄丰原案”：香港特区终审法院对首宗内地人香港生子是否拥有居港权案作出判决，“香港宝宝”庄丰源拥有居港权。香港实行的是判例法，该案以后在港出生的婴儿，均可以根据这个判例获得香港身份。 — <a href="http://baike.baidu.com/view/2992799.htm?fr=aladdin" target="_blank" rel="external"><strong>百度百科</strong></a></p>
</blockquote>
<p>有了第一个，就有第二个、第三个…成千上万个。赴港生子便成为热门风波，甚至衍生出一条龙服务的商家产业链，只是最近几年香港采取了相应措施才缓解了这股风暴。内地妈妈赴港产子无非是想让自己的孩子赢在起跑线上，想多要一点“公平”。只要有严重的差异存在，就会有人想方设法往好的那一边去。</p>
<p>随即想到电影《北京遇上西雅图》里面，汤女神扮演的“拜金女”文佳佳怀孕后到美国待产的剧情，又想到之前在知乎上看到的关于 <code>12306</code> 的问题 <a href="http://www.zhihu.com/question/22451397" target="_blank" rel="external"><strong>12306 外包给阿里巴巴、IBM 等大企业做是否可行？</strong></a> 里面的技术讨论很多，但让我印象最深刻地是这句话：</p>
<blockquote>
<p>“最后我们会发现，区域发展不平衡才是罪魁祸首。正因为多少人在家乡无法得到足够的机会与资源，他们必须到发达地区奋斗和实现自己的价值。只要这种不平衡现象还在继续，每年春节前后就不可避免地出现大批人员全国范围流动的情况，就不可避免地出现运输能力不足的尴尬。改进12306也好，增加铁路网投资也好，最终都只是治标不治本。如果这个社会不去直面根本问题，那么这些表象的症结永无解开的时候。</p>
<p>说起来，有几个人愿意背井离乡呢？”</p>
</blockquote>
<p>尽管我们不愿看到，但有些事情从一开始就不公平。</p>
<p>也是最近在知乎上看到的 <a href="http://www.zhihu.com/question/25338130" target="_blank" rel="external"><strong>经过不懈的努力取得的结果和别人通过关系取得的结果一样甚至更差，那努力还有什么意义呢？</strong></a> 其实里面讨论的不外乎几种声音，传统的心灵鸡汤、不努力会更差、不要和别人比要和自己比…有的人说，你还不够努力；有的人说，就算你再怎么努力也追不上，人家起点都比你高太多；可你说我就是努力了啊，但我还是没有成功。人们往往在你成功的时候才会去赞扬你有多努力，而你失败了一切是免谈，你再努力也不会看到。人们带有偏见，又哪有公平？</p>
<p>以前看到个笑话，大致是这么讲的：</p>
<blockquote>
<p>儿子：爸，你怎么当年不努力一点，不然我现在就是富二代了。<br>爸爸：当初我也是这么想的。</p>
</blockquote>
<p>所以即使是富二代，那也是人家上辈们努力打拼下来的。</p>
<p>最后的最后：</p>
<blockquote>
<ul>
<li>对于我们中的大多数，还真的不够努力；</li>
<li>光努力还不行，方法要准确，别跑偏；</li>
<li>心态要好，跑偏了也不怕；</li>
<li>公平好像总是缺失的，努力可以用来和别人比较，更要用来超越以前的自己。</li>
</ul>
</blockquote>
<h3 id="以此激励自己。">以此激励自己。</h3>]]></content>
    <summary type="html">
    <![CDATA[<p>昨天在微博上看到有人转一篇长微博，<a href="http://weibo.com/1880476481/BokjWEqU2">原帖在此</a>。大致情况是一位内地孕妇想去 HK, 她本人申明此行目的是散心、旅游，但也许香港入境处却不这么认为，觉得她有 <code>“赴港生子”</code> 的可能性，于是将她遣返回京。回来后，事件主人公发了上面那篇长微博，众多网友对其真正目的的解读也是产生了严重的分歧。</p>
<p>这里不去讨论她真正的目的了。我最开始感兴趣的是，为什么大家对 <code>“赴港生子”</code> 这个事情这么敏感。在网上找了一些资料后，才知道在香港出生的内地孩子即享有香港永久居民权，拥有特区护照，享有免费医疗及十二年免费教育，全球多个国家和地区免签证… 恍然大悟。]]>
    
    </summary>
    
      <category term="原创" scheme="http://henng.com/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="思考" scheme="http://henng.com/tags/%E6%80%9D%E8%80%83/"/>
    
      <category term="生活" scheme="http://henng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="生活" scheme="http://henng.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Markdown 相关介绍]]></title>
    <link href="http://henng.com/2014/09/23/markdown/"/>
    <id>http://henng.com/2014/09/23/markdown/</id>
    <published>2014-09-23T12:23:08.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>维基百科上对 <a href="http://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="external"><code>Markdown</code></a> 的解释是：</p>
<blockquote>
<p>Markdown 是一种轻量级标记语言，创始人为约翰·格鲁伯（John Gruber）。它允许人们“使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML(或者HTML)文档”。这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。</p>
</blockquote>
<p>我接触 Markdown 也没有多久，大概今年6月的样子。但从一开始了解到 Markdown 的时候，我就决定以后写东西尽量用 Markdown 了，因为你可以专注于文字本身，畅快淋漓地写文章而不用老是担心格式问题，使用 Markdown 的标记语法，会自动生成一篇格式优雅的文章。它还有其它有点，比如：<a id="more"></a></p>
<ul>
<li>纯文本格式，兼容性极强，可直接用文本编辑器打开。</li>
<li>格式转换方便，Markdown 的文本你可以轻松转换为 html(xhtml) 等。</li>
<li>Markdown 的标记语法简单，常用的语法不多，有极好的可读性。</li>
</ul>
<p>要说到 Markdown 的语法学习，其实很简单，一般半个小时就能搞定常用的语法。网上有很多介绍 Markdown 或者 Markdown 语法教程之类的，我这里不推荐大家去看，我觉得直接从使用 Markdown 工具开始会让你记得更快更有效。这里推荐一款强大的中文在线 Markdown 编辑器 <a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="external"><strong>Cmd Markdown</strong></a>, 通过实时的预览你一下子就知道了某个语法怎么用的、有什么效果，而且在你第一次使用的时候，编辑器本身打开的就是一篇教程，十分方便！以后忘记了某个语法，也可以随身打开这篇教程查看。</p>
<p>说到 Markdown 工具，我也试用了不少。目前 <a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="external"><strong>Cmd Markdown</strong></a> 是我知道的在线中文 Markdown 编辑器最强的一个，除了大多数 Markdown 工具都支持的，比如代码语法高亮啊、脚注啊什么的，它还支持 <em>LaTex</em> 公式，写论文公式多就知道有多好用了，现在甚至是提供流程图、序列图的功能，作者目前还在开发新功能。</p>
<p>其次呢，是 <a href="https://stackedit.io/#" target="_blank" rel="external"><strong>StackEdit</strong></a>, 这款编辑器也是在线的，但有 Chrome 离线版本提供。我觉得这算是英文中最好的 Markdown 编辑器了，中文支持不太好，具体表现在把文档导出为 PDF 的时候会乱码，有一个曲线救国的方式，就是先导出为 HTML，再把 HTML 用 Chrome 打印为 PDF.</p>
<p>还有一个可以介绍下，<a href="http://maxiang.info/" target="_blank" rel="external"><strong>马克飞象</strong></a>，功能也挺全的，最大的特色就是可以同步文档到 <code>印象笔记</code>，目前也提供离线版本，但正式版已出，只有10天的试用期，也就是要收费了。</p>
<p>我目前用的 PC 离线 Markdown 工具是 <a href="http://pad.haroopress.com/" target="_blank" rel="external"><strong>Haroopad</strong></a>, 韩国人开发的，覆盖 Mac/Windows/Linux. 免费接受捐赠，不用 MarkdownPad的原因是免费版不支持代码高亮……</p>
<p>最后总结一下，各个工具的差异吧。</p>
<blockquote>
<ul>
<li>Cmd Markdown<br>支持基本常见功能 + LaTex + 流程图 + 社区分享文章，支持导出为 HTML, 暂时没有离线版本，完全免费；</li>
<li>StackEdit<br>支持基本常见功能 + LaTex + 流程图 + 社区分享文章，支持导出为 HTML 以及 PDF, 有离线版本，但导出为 PDF 为高级功能，此项收费；</li>
<li>马克飞象<br>支持基本常见功能 + LaTex + 同步到印象笔记，支持导出为 HTML 以及 PDF，有离线版本，可试用10天，收费；</li>
<li>Haroopad<br>支持基本常见功能 + LaTex, 支持导出为 HTML, 离线版本，完全免费。</li>
</ul>
</blockquote>
<p><em>by Henry 2014-09-23</em></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>维基百科上对 <a href="http://zh.wikipedia.org/wiki/Markdown"><code>Markdown</code></a> 的解释是：</p>
<blockquote>
<p>Markdown 是一种轻量级标记语言，创始人为约翰·格鲁伯（John Gruber）。它允许人们“使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML(或者HTML)文档”。这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。</p>
</blockquote>
<p>我接触 Markdown 也没有多久，大概今年6月的样子。但从一开始了解到 Markdown 的时候，我就决定以后写东西尽量用 Markdown 了，因为你可以专注于文字本身，畅快淋漓地写文章而不用老是担心格式问题，使用 Markdown 的标记语法，会自动生成一篇格式优雅的文章。它还有其它有点，比如：]]>
    
    </summary>
    
      <category term="Talk" scheme="http://henng.com/tags/Talk/"/>
    
      <category term="markdown" scheme="http://henng.com/tags/markdown/"/>
    
      <category term="原创" scheme="http://henng.com/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="工具" scheme="http://henng.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="Henry Talk" scheme="http://henng.com/categories/Henry-Talk/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[被笔试]]></title>
    <link href="http://henng.com/2014/09/18/interview/"/>
    <id>http://henng.com/2014/09/18/interview/</id>
    <published>2014-09-18T11:58:38.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p>大四了，出国的出国了，保研的无忧无虑了，考研的天天自习，找工作的到处奔波。时间越久，越来越发现心仪的工作不是那么好找。不是你觉得工资少不想做，就是工资高的自己又拿不下来。</p>
<p>最近先后去了应聘了腾讯和百度，先说结果，腾讯没戏了，百度还没消息（不过估计也悬）。之前我一直在忙 Activity 的项目，虽然敲代码速度见长，但是根本没有看书复习准备笔试面试，果然腾讯笔试之后就觉得惨不忍睹，腾讯也是，全考C/C++，几乎不见Java，无奈我最近接触的全是Java，C/C++好久都没接触过了，笔试回来当晚就恶补了C++，这里推荐一本不错的书，《高质量C++编程》是林锐博士写的，里面全是C++的易错点，个人觉得十分不错，林锐在前言里写到，“书的最后有一道测试题，建议你在看书之前先独自做一做这些题，如果你能得满分，请允许我叫你师傅。。” 瞧这口气，可见是多么容易出错。</p>
<p>后来百度笔试，虽然全是大题（腾讯除了附加题全是选择题。。），但不限制你用 C/C++、Java，你哪个熟悉用哪个。有个一部分还是二选一，主要方向是 Android 和 Web，我选的Android的题， 都是些基础概念题，什么四大组件啊，AndroidManifest.xml啊，Activity的生命周期啊、启动模式啊，之类的。考完下来，就觉得笔试应该没问题。果然一天过后，收到面试通知。<a id="more"></a></p>
<p>面试在昨天，下午3点。去的时候还不紧张，等到了那里，坐了一会儿忽然叫到我的名字，意识到我马上要面试了，就有点紧张起来了。不过面试的时候又放松了下来，一是面试官人还不错，挺年轻的，叫我不要紧张，二是面试起来根本没有时间去想紧张这回事儿好么！刚开始聊得挺愉快的，跟我讲什么Android刷机啦，Android和IOS的差异啦，做过的项目啦，都没什么问题。最后面试官开始出题了，求二叉树的深度，其实用递归实现挺简单的，例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetDepth</span><span class="params">(TreeNode *pTreeNode)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">      <span class="comment">// if it is empty</span></span><br><span class="line">      <span class="keyword">if</span>( !pTreeNode )</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// get the depth of left sub tree</span></span><br><span class="line">      <span class="keyword">int</span> left = GetDepth(pTreeNode-&gt;m_pLeft);</span><br><span class="line">      <span class="comment">// get the depth of right sub tree</span></span><br><span class="line">      <span class="keyword">int</span> right = GetDepth(pTreeNode-&gt;m_pRight);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// return the larger</span></span><br><span class="line">      <span class="keyword">return</span> (left &gt; right) ? (left + <span class="number">1</span>) : (right + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>看看我当时脑抽写的…</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">int</span> left = right = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetDepth</span><span class="params">(TreeNode *pTreeNode)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pTreeNode-&gt;hasLeft() )	</span><br><span class="line">	&#123;</span><br><span class="line">		left++;</span><br><span class="line">		GetDepth(pTreeNode-&gt;m_pLeft); </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (pTreeNode-&gt;hasRight() )	</span><br><span class="line">	&#123;</span><br><span class="line">		right++;</span><br><span class="line">		GetDepth(pTreeNode-&gt;m_pRight); </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// return the larger</span></span><br><span class="line">    <span class="keyword">return</span> (left &gt; right) ? (left) : (right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后一个问题，1T数据，无序，求中位数。第一反应是不该用排序，但我实在想不出来了。。研究中。。</p>
<p>update:<br>海量数据，无序，求中位数的问题。我在后来发现腾讯笔试以前出过类似的题目：</p>
<blockquote>
<p>“只有2G内存的 PC 机，在一个存有10G个整数的文件，从中找到中位数，写一个算法。”</p>
</blockquote>
<p>网上比较靠谱的解答是，“假设整数是int 2^32, 然后把整数分成 2^16 个块，每块包含2^16 个数， 也就是 0~65535、65535~* 这些块。<br>然后把数据从头到尾走一遍，就可以知道中位数在哪一个块中了；<br>然后再把数据从头到尾走一遍，就可以知道中位数是哪个数。”</p>
<p>update2:<br>//求二叉树深度的非递归算法。PS：对深度的定义貌似不统一，一般定义为，根节点的深度为1。来自：<a href="http://blog.csdn.net/zhanglei0107/article/details/11472683" target="_blank" rel="external">kiwi’s garden</a></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> TreeNode &#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode *left;</span><br><span class="line">    TreeNode *right;</span><br><span class="line">     TreeNode(<span class="keyword">int</span> x) : val(x), left(NULL), right(NULL) &#123;&#125;</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">struct</span> denode  </span><br><span class="line">&#123;  </span><br><span class="line">    TreeNode* node;  </span><br><span class="line">    <span class="keyword">int</span> degree;  </span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxDepth</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Start typing your C/C++ solution below</span></span><br><span class="line">        <span class="comment">// DO NOT write int main() function</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">if</span> (root == NULL)</span><br><span class="line">    	<span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">        </span><br><span class="line">    <span class="built_in">queue</span>&lt;denode&gt; que;  </span><br><span class="line">      </span><br><span class="line">    denode dnode;  </span><br><span class="line">    dnode.degree = <span class="number">1</span>;  </span><br><span class="line">    dnode.node = root;  </span><br><span class="line">  </span><br><span class="line">    que.push(dnode);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">int</span> degree = <span class="number">1</span>;  </span><br><span class="line">    <span class="keyword">while</span> ( !que.empty() )  </span><br><span class="line">    &#123;  </span><br><span class="line">        denode ptr = que.front();  </span><br><span class="line">        que.pop();  </span><br><span class="line">  </span><br><span class="line">        degree = ptr.degree;  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (ptr.node-&gt;left != NULL)  </span><br><span class="line">        &#123;  </span><br><span class="line">            denode p;  </span><br><span class="line">            p.node = ptr.node-&gt;left;  </span><br><span class="line">            p.degree = ptr.degree+<span class="number">1</span>;  </span><br><span class="line">            que.push(p);  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (ptr.node-&gt;right != NULL)  </span><br><span class="line">        &#123;  </span><br><span class="line">            denode p;  </span><br><span class="line">            p.node = ptr.node-&gt;right;  </span><br><span class="line">            p.degree = ptr.degree+<span class="number">1</span>;  </span><br><span class="line">            que.push(p);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> degree;   </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>大四了，出国的出国了，保研的无忧无虑了，考研的天天自习，找工作的到处奔波。时间越久，越来越发现心仪的工作不是那么好找。不是你觉得工资少不想做，就是工资高的自己又拿不下来。</p>
<p>最近先后去了应聘了腾讯和百度，先说结果，腾讯没戏了，百度还没消息（不过估计也悬）。之前我一直在忙 Activity 的项目，虽然敲代码速度见长，但是根本没有看书复习准备笔试面试，果然腾讯笔试之后就觉得惨不忍睹，腾讯也是，全考C/C++，几乎不见Java，无奈我最近接触的全是Java，C/C++好久都没接触过了，笔试回来当晚就恶补了C++，这里推荐一本不错的书，《高质量C++编程》是林锐博士写的，里面全是C++的易错点，个人觉得十分不错，林锐在前言里写到，“书的最后有一道测试题，建议你在看书之前先独自做一做这些题，如果你能得满分，请允许我叫你师傅。。” 瞧这口气，可见是多么容易出错。</p>
<p>后来百度笔试，虽然全是大题（腾讯除了附加题全是选择题。。），但不限制你用 C/C++、Java，你哪个熟悉用哪个。有个一部分还是二选一，主要方向是 Android 和 Web，我选的Android的题， 都是些基础概念题，什么四大组件啊，AndroidManifest.xml啊，Activity的生命周期啊、启动模式啊，之类的。考完下来，就觉得笔试应该没问题。果然一天过后，收到面试通知。]]>
    
    </summary>
    
      <category term="工作" scheme="http://henng.com/tags/%E5%B7%A5%E4%BD%9C/"/>
    
      <category term="招聘" scheme="http://henng.com/tags/%E6%8B%9B%E8%81%98/"/>
    
      <category term="生活" scheme="http://henng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="面试" scheme="http://henng.com/tags/%E9%9D%A2%E8%AF%95/"/>
    
      <category term="生活" scheme="http://henng.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[电视剧《北京青年》语录]]></title>
    <link href="http://henng.com/2014/09/16/beijingyouth/"/>
    <id>http://henng.com/2014/09/16/beijingyouth/</id>
    <published>2014-09-16T11:00:23.000Z</published>
    <updated>2015-07-06T17:52:50.131Z</updated>
    <content type="html"><![CDATA[<p><em>我很少看电视剧，《北京青年》算我看过的很少的其中之一，觉得里面有些台词还不错，自己整理出来了。</em></p>
<p>1.</p>
<blockquote>
<p>当我年轻的时候，我的想象力从没有受到过限制，我梦想改变这个世界。 </p>
<p>当我成熟以后，我发现我不能改变这个世界，我将目光缩短了些，决定只改变我的国家。 </p>
<p>当我进入暮年后，我发现我不能改变我的国家，我的最后愿望仅仅是改变一下我的家庭。但是，这也不可能。 </p>
<p>当我躺在床上，行将就木时，我突然意识到：如果一开始我仅仅去改变我自己，然后作为一个榜样，我可能改变我的家庭；在家人的帮助和鼓励下，我可能为国家做一些事情。 </p>
<p>然后谁知道呢？我甚至可能改变这个世界。 </p>
<p>———威斯特敏斯特大教堂地下室的墓碑林，一块名扬世界的无名墓碑。（《北京青年》引用）</p>
</blockquote>
<p><a id="more"></a>2.</p>
<blockquote>
<p>“其实是能力问题。为什么你们这一代人这么受到社会的关注，受到各个方面的质疑，归根结底就是“能力”这两个字。但是这不是你们的错。从你们这代人开始，中国传统的家庭格局变了，一家一孩儿，人物关系单一，都是独生子女，你们成了整个家庭的核心，承载了父母，甚至是家族的全部希望。”</p>
<p>“所以你们一出生就被装进了一个方盒子里，呵护着，封闭着，小学、中学、大学，直到工作，完全一样的方盒模式，只看学习成绩，只讲分，分数成了家长对孩子要求的唯一标准。这种只注重文化的学习，不关心能力的培养的教育模式，使你们的眼界、思想、激情先被家长的要求束缚住，然后被世俗的要求界定了。最后自己都跳不出名利这个坎了。所以很多的你们虽然干着不是自己喜欢的工作，过着不是自己喜欢的日子，但却没有能力改变和冲破自己，只能变成麻木的橡胶人，熬日子。”</p>
<p>“道理很简单，你虽然意识到自己缺乏能力，但却没有理解能力的真正含义。能力难道仅仅是指体力劳动吗？但从你的经历来看，你是在不断地寻找各种体力劳动，你是想摆脱过去的一切，你放弃了你的一切优势，而去从事你并不擅长的工作，看上去很勇敢，但是有勇无谋，你从来就没有真正静下心来思考过，为什么做不好这些事情，所以你体验了更多的工作，所以你更迷茫了。”</p>
<p>“能力有很多种，并不局限于体力劳动，如何与人沟通，如何尽快的调整心态，这些都是能力，文化和能力并非对立的关系，真正的成功者一定是文化与能力兼备的，将两者完美的结合在一起的，这就是我们的智慧了。智慧可能是天生的，但更多的是实践中的积累。埋头苦干承受苦难这并不难，看看你的周围，不都是一群辛勤劳动的人吗？真正难的是什么，是如何认识自己，最终改变自己。只有到那个时候你才会意识到，有些苦难其实是不必承受的。记住，一个人要想成功，真正依靠的还是他的智慧。”</p>
<p>———何东与叶坦爸爸叶舟的对话。</p>
</blockquote>
<p>3.</p>
<blockquote>
<p>只要对生活充满希望，就不算是失败。</p>
<p>人呀，总是会有一些不切实际的想法，期望越高呢，失败就越大。可是人总要有点理想吧？有理想也要有实现理想的能力，否则那就叫空想。当你能力有了的时候，运气自然就会来了，机会总是眷顾有准备的人。如果你总想着成功，想着挣钱的话，你会让自己变得不切实际，当你的能力没办法满足你的欲望时，你就会变得痛苦。自暴自弃，甚至怀疑人生。其实只要你放平心态，踏踏实实的走好每一步，你的人生将会是另一番局面。</p>
<p>———王越</p>
</blockquote>
<p>4.</p>
<blockquote>
<p>所以说啊,他们的每一步成长,都伴随着社会巨变带来的阵痛,可由于独生子女的身份,又被家长们给予厚望,所以只要条件允许,家长就千方百计的为他们铺设一条看似捷径的路,希望他们少奋斗啊,少辛苦,希望他们就这么安安稳稳的过一辈子,都是做家长的,谁能例外,都是这样的想法,问题就在这,按照我们这种观念培养出来的孩子，看上去外表光鲜,什么高学历啊,高收入啊,但实际上他们严重缺乏最基本的生存能力和与人沟通的能力，一旦遇到困难和挫折,傻了，没辙了,就束手无策了,好多人都批评他们是温室里的花朵,什么经不起风霜,他们批评错了对象,对象应该是我们这些做父母的。</p>
<p>———河东父亲与何东叔叔们的谈话。（我认为做子女的也有责任，但何东父亲说这番话的确有勇气，对于一向放不下面子的所谓“过来人”的“大人们”来说）</p>
</blockquote>
<p>5.</p>
<blockquote>
<p>男人的生活品质是什么？男人的生活品质就在于你找了个什么样的老婆。</p>
<p>———何东父亲对何东说。</p>
</blockquote>
<p>6.</p>
<blockquote>
<p>我每天的生活过的一样，今天和昨天一样，昨天和今天一样，日复一日的，按部就班无所事事。我只要一闭上眼睛就能想到我未来十年的样子。这不是我想要的生活。</p>
<p>———何东</p>
</blockquote>
<p>7.</p>
<blockquote>
<p>每个玩世不恭的人都会因为生活的洗礼而成长。</p>
<p>———《北京青年》</p>
</blockquote>
<p>8.</p>
<blockquote>
<p>经过这么多事，我还有什么不能释怀的呢。</p>
<p>———何东</p>
</blockquote>
<p>9.</p>
<blockquote>
<p>20多岁，你迷茫又着急。你想要房子你想要汽车，你想要旅行你想要享受生活。</p>
<p>你那么年轻却窥觑整个世界，你那么浮躁却想要看透生活。<br>你不断催促自己赶快成长，却沉不下心来安静的读一篇文章；<br>你一次次吹响前进的号角，却总是倒在离出发不远的地方。</p>
<p>成长，真有你想象的那样迫切？</p>
<p>———《另一种活法》</p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p><em>我很少看电视剧，《北京青年》算我看过的很少的其中之一，觉得里面有些台词还不错，自己整理出来了。</em></p>
<p>1.</p>
<blockquote>
<p>当我年轻的时候，我的想象力从没有受到过限制，我梦想改变这个世界。 </p>
<p>当我成熟以后，我发现我不能改变这个世界，我将目光缩短了些，决定只改变我的国家。 </p>
<p>当我进入暮年后，我发现我不能改变我的国家，我的最后愿望仅仅是改变一下我的家庭。但是，这也不可能。 </p>
<p>当我躺在床上，行将就木时，我突然意识到：如果一开始我仅仅去改变我自己，然后作为一个榜样，我可能改变我的家庭；在家人的帮助和鼓励下，我可能为国家做一些事情。 </p>
<p>然后谁知道呢？我甚至可能改变这个世界。 </p>
<p>———威斯特敏斯特大教堂地下室的墓碑林，一块名扬世界的无名墓碑。（《北京青年》引用）</p>
</blockquote>
<p>]]>
    
    </summary>
    
      <category term="文艺" scheme="http://henng.com/tags/%E6%96%87%E8%89%BA/"/>
    
      <category term="生活" scheme="http://henng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="语录" scheme="http://henng.com/tags/%E8%AF%AD%E5%BD%95/"/>
    
      <category term="转载" scheme="http://henng.com/tags/%E8%BD%AC%E8%BD%BD/"/>
    
      <category term="生活" scheme="http://henng.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
</feed>