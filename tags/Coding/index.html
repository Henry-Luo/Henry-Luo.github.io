<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="何恩 何恩之有 HenryLuo Henry Luo Blog 生活 项目 编程"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="http://henng.com/atom.xml" title="何恩之有" type="application/atom+xml"><link rel="icon" href="images/favicon.ico"><title>Coding - 何恩之有</title><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro"><link rel="stylesheet" href="/css/main.css" type="text/css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"><a href="/">何恩之有</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">首页</a></li><li class="head-nav__item"><a href="/archives" class="head-nav__link">存档</a></li><li class="head-nav__item"><a href="/about" class="head-nav__link">关于</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2015-06-28T06:28:26.000Z" class="post__time">六月 28, 2015</time><h1 class="post__title"><a href="/2015/06/28/cloud-hexo/">将 Hexo 配置到云端</a></h1></header><div class="post__main echo"><p>将 Hexo 环境放在云端，不用担心换了电脑，也不用担心系统平台不一样，只需要网络即可，一劳永逸。</p>
<p>因为换了新系统，又得重新配置 Hexo 博客环境。于是就想到，对于经常重装系统的同学来说，老是要重新配置 Hexo 就很麻烦；另外一点缺陷是在本地的 Hexo 只能在自己电脑上更新文章，如果出去在外地，换了一台电脑就没法更新文章了。如果能把 Hexo 配置到云端就好了，这样有网络就可以搞定，且不受系统平台的限制。</p>
<p>搜索了一圈，发现还是有人这么干的。不过相关的帖子好像不多，干货更少。主要发现两个工具:</p>
<a id="more"></a>
<blockquote>
<ul>
<li><a href="https://coding.net." target="_blank" rel="external">Coding</a> </li>
<li><a href="https://koding.com/" target="_blank" rel="external">Koding</a></li>
</ul>
</blockquote>
<p>这俩货从名字上就挺相似的，因此干的事情也差不多。试用了一圈，发现 <code>Koding</code> 比较慢，Terminal 也有点卡，可能是老外出品的吧，服务器在国外；而 <code>Coding</code> 速度则要快一些，国人作品，因此最终选择了 <code>Coding</code>。</p>
<h2 id="安装_Hexo">安装 Hexo</h2><p>注册账户之后，新建一个项目用于 Blog，然后进入 <code>WebIDE</code>， <code>Coding</code> 已经内置了搭建 Hexo 需要的 Git 和 node.js 环境，因此直接安装 Hexo 即可，点击右上角第一个图标打开 Terminal：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/CC0A8E7501914EE387F19AC625EDA750" alt=""></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm <span class="keyword">install</span> -g hexo</span><br></pre></td></tr></table></figure>
<p>如果安装成功，输入 <code>hexo</code> 会有相应的帮助提示：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/B951FC816F82490194AC444A724D772B" alt="hexo"></p>
<h2 id="初始化_Hexo">初始化 Hexo</h2><p>在终端下输入：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">hexo</span> init</span><br></pre></td></tr></table></figure>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/E8DC018A6CFC4DADB64F9DDC1910903E" alt=""></p>
<p>可以看到初始化之后，它提示我们不要忘了输入下面的命令（<strong>重要</strong>）来完成：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure>
<h2 id="配置_SSH">配置 SSH</h2><p>配置 SSH 主要是为了将我们的博客文章 push 到 Github 上面去，你也可以 把整个 Blog 放到 <code>coding.net</code> 而不是 Github 上，不过 Coding 免费版好像不支持自定义域名，因此我只是把 Coding 用来搭建 Hexo 环境，不用来托管整个 Blog。</p>
<p>在终端输入：</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -<span class="keyword">C</span> <span class="string">"your_email@example.com"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><em>注意 <code>-C</code>为大写</em></p>
</blockquote>
<p>输入保存文件的位置（默认直接 Enter）：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/F90404FA360144DB8CA0554EBC05F6FB" alt=""></p>
<p>然后会要求输入密码：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/19FBC5BDD38E4333AC19B15832AD8B43" alt=""></p>
<p>SSH 如果生成成功，则可以看到类似如下的界面：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/4291C445E7E54974B67CC9F90C2135B6" alt=""></p>
<p>上面的图中，可以看到该 SSH 保存的位置，我们需要获得该 SSH 的具体内容，使用 <code>cat</code> 命令：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/F30178151DAD479CA5E083DC77AC2FE8" alt=""></p>
<p>然后把上面的内容复制到你的 Github 账户中的 SSH keys 即可。</p>
<p>接着设置一下相关用户信息，在以后的 deploy 中会用到：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user<span class="class">.name</span> <span class="string">"username"</span><span class="comment">//用户名</span></span><br><span class="line">git config --global user<span class="class">.email</span> <span class="string">"your_email@example.com"</span><span class="comment">//填写自己的邮箱</span></span><br></pre></td></tr></table></figure>
<h2 id="deploy_相关">deploy 相关</h2><p>修改 <code>_config.yml</code> 配置文件中 deploy 发布的相关内容：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repository</span>: <span class="attribute">https</span>:<span class="comment">//github.com/your_account/your_account.github.com.git</span></span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure>
<p>把 <code>your_account</code> 换成你的 Github 的账户名，<strong>注意，Hexo 现在的版本，<code>type</code>一栏要写成 <code>git</code> 而不是 <code>github</code></strong>。</p>
<p>安装 git deployer 插件：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span></span><br></pre></td></tr></table></figure>
<p><code>coding.net</code> 也支持本地预览，菜单栏选择 <code>Tools -&gt; Generate Access Url</code>：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/2D7613A2895E4B1D98065EAD68225BAA" alt=""></p>
<p>端口号填入 <code>4000</code>，点击 <code>Generate</code>，需要注意的是这个地址有效时间为1小时：</p>
<p><img src="http://note.youdao.com/yws/public/resource/5ea20fe8fb6ee68700837929c5c51b51/5E102F73DCFB4BB792FA8E24D39A8158" alt=""></p>
<p>然后其他的配置，例如主题、其他插件什么的，和本地 Hexo 差不多，不再赘述，enjoy writing ：）</p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/tags/Coding/" class="post__tag__link">Coding</a></li><li class="post__tag__item"><a href="/tags/Git/" class="post__tag__link">Git</a></li><li class="post__tag__item"><a href="/tags/Github/" class="post__tag__link">Github</a></li><li class="post__tag__item"><a href="/tags/Hexo/" class="post__tag__link">Hexo</a></li><li class="post__tag__item"><a href="/tags/云/" class="post__tag__link">云</a></li></ul><a href="http://service.weibo.com/share/share.php?title=将 Hexo 配置到云端 - 何恩之有&amp;url=http://henng.com/2015/06/28/cloud-hexo/&amp;ralateUid=2492134057&amp;searchPic=true&amp;style=number" target="_blank" class="post__foot-link u-fr">SHARE</a></footer></article></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2015 Henry Luo<bdi> | Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> with theme <a href="https://github.com/unmric/hexo-theme-strict" target="_blank">strict</a></bdi></div><menu class="page-menu u-fr"><li class="page-menu__item"><span title="上一页" class="page-menu__link icon-arrow-left page-menu__link--disabled"> </span></li><li class="page-menu__item"><span title="下一页" class="page-menu__link icon-arrow-right page-menu__link--disabled"> </span></li></menu></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-54955970-2', 'auto');
ga('send', 'pageview');
</script></body></html>